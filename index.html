<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmartwingsWatch - Document Airline Claim Experiences</title>
    <meta name="description" content="Help passengers document and share airline claim experiences for better accountability and awareness.">
    
    <!-- Social Media Meta Tags -->
    <meta property="og:title" content="SmartwingsWatch - Passenger Rights Documentation Tool">
    <meta property="og:description" content="ool to help passengers document airline claim experiences and build awareness for better customer service accountability.">
    <meta property="og:type" content="website">
    
    <!-- PWA Meta Tags -->
    
    <meta name="theme-color" content="#e63946">
    
    <style>
        
:root {
    --primary-red: #dc3545;
    --dark-red: #c82333;
    --accent-yellow: #FFD93D;
    --text-dark: #1d3557;
    --bg-light: #f8f9fa;
    --spacing-xs: 8px;
    --spacing-sm: 16px;
    --spacing-md: 24px;
    --spacing-lg: 40px;
    --border-radius: 12px;
    --max-content-width: 1000px;
}
        
        * {
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f8f9fa;
            color: #333;
        }
.content-section {
    max-width: 1000px;
    margin: 0 auto;
    padding: 30px 20px;
}
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            background: linear-gradient(135deg, var(--primary-red), var(--dark-red));
            color: white;
            padding: 40px 20px;
            text-align: center;
            border-radius: 15px;
            margin-bottom: 30px;
        }
        
        .header h1 {
            margin: 0;
            font-size: 2.5rem;
            font-weight: 800;
        }
        
        .header p {
            margin: 15px 0 0;
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
.form-section {
    background: white;
    padding: var(--spacing-lg);
    border-radius: 15px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.1);
    margin-bottom: var(--spacing-lg);
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
}

.form-section h2 {
    color: var(--text-dark);
    margin-top: 0;
    font-size: 1.4rem;
    font-weight: 700;
    text-align: center;
    margin-bottom: var(--spacing-md);
}
        
     .form-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 20px;
    margin-bottom: 25px;
}
        
        .form-item {
            display: flex;
            flex-direction: column;
        }

        
        
        label {
            color: #1d3557;
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 0.95rem;
        }
        
        input, select {
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            background: white;
            transition: border-color 0.3s;
        }
        
        input:focus, select:focus {
            outline: none;
            border-color: var(--primary-red);
        }
        
.btn {
    background: linear-gradient(135deg, var(--primary-red), var(--dark-red));
    color: white;
    border: none;
    padding: 15px 30px;
    border-radius: var(--border-radius);
    font-size: 1.1rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    display: inline-block;
    text-decoration: none;
}

.btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 20px rgba(220, 53, 69, 0.4);
}
        
        .upload-area {
            border: 3px dashed #ddd;
            border-radius: 15px;
            padding: 40px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            background: #f8f9fa;
        }
        
      .upload-area:hover {
    border-color: var(--primary-red);
    background: rgba(220, 53, 69, 0.05);
}
        
        .claim-card {
            width: 600px;
            height: 650px;
            background: linear-gradient(135deg, #000000, #1a0000);
            color: white;
            position: relative;
            overflow: hidden;
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 40px 40px 60px 40px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.5);
            margin: 0 auto;
        }
        
        .claim-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 15px;
            background: linear-gradient(90deg, #e63946, #dc3545, #e63946);
            animation: pulse-red 2s infinite;
        }
        
        @keyframes pulse-red {
            0% { filter: brightness(1); }
            50% { filter: brightness(1.3); }
            100% { filter: brightness(1); }
        }
        
        .days-count {
            font-size: 4.8rem;
            font-weight: 900;
            color: #e63946;
            text-shadow: 4px 4px 0px #000;
            line-height: 0.8;
            margin-bottom: 8px;
            animation: shock-pulse 3s infinite;
        }
        
        @keyframes shock-pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.03); }
            100% { transform: scale(1); }
        }
        
       .airline-brand {
    font-size: 3.8rem;
    font-weight: 900;
    color: #fff;
    margin-bottom: 15px;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
}
        
        .damage-type {
            font-size: 1.4rem;
            color: #ff6b6b;
            font-weight: 700;
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }
        
        
        .damage-photo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        
        .photo-preview {
            max-width: 100%;
            height: auto;
            border-radius: 10px;
        }
        
        .photo-controls {
            margin-top: 15px;
            display: flex;
            gap: 10px;
            justify-content: center;
        }
        
        .photo-btn {
            background: #6c757d;
            color: white;
            padding: 8px 16px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            transition: background 0.3s;
        }
        
        .photo-btn:hover {
            background: #5a6268;
        }
        
        .photo-btn.remove {
            background: #dc3545;
        }
        
        .photo-btn.remove:hover {
            background: #c82333;
        }
        
        .share-section {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin-top: 30px;
        }
        
        .share-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .share-btn {
            padding: 15px 20px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            background: white;
            color: #333;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .share-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .share-btn.twitter {
            border-color: #1da1f2;
            color: #1da1f2;
        }
        
        .share-btn.twitter:hover {
            background: #1da1f2;
            color: white;
        }
        
        .share-btn.facebook {
            border-color: #4267b2;
            color: #4267b2;
        }
        
        .share-btn.facebook:hover {
            background: #4267b2;
            color: white;
        }
        
    .share-btn.linkedin {
    border-color: #0077b5;
    color: #0077b5;
    position: relative;
}

.share-btn.linkedin:hover {
    background: #0077b5;
    color: white;
}

.share-btn.linkedin::after {
    content: 'Manual post';
    position: absolute;
    bottom: -20px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 0.7rem;
    color: #666;
    opacity: 0;
    transition: opacity 0.3s;
}

.share-btn.linkedin:hover::after {
    opacity: 1;
}
        
        .share-btn.whatsapp {
            border-color: #25d366;
            color: #25d366;
        }
        
        .share-btn.whatsapp:hover {
            background: #25d366;
            color: white;
        }
        
        .share-btn.download {
            border-color: #28a745;
            color: #28a745;
        }
        
        .share-btn.download:hover {
            background: #28a745;
            color: white;
        }
        
        .success-message {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            display: none;
        }
        
        .success-message.show {
            display: block;
        }
        
        .error-message {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            display: none;
        }
        
        .error-message.show {
            display: block;
        }

    @media (max-width: 768px) {
    .content-section {
        padding: 20px 15px;
    }
        
    .form-grid {
        grid-template-columns: 1fr;
    }
    
    .btn {
        width: 100%;
        padding: 18px;
        font-size: 1rem;
    }
    
    .header h1 {
        font-size: 2rem;
    }
    
    .header p {
        font-size: 1rem;
    }
    
    .claim-card {
        width: 100%;
        max-width: 500px;
        height: 500px;
        padding: 30px;
    }
    
    .airline-brand {
        font-size: 2.5rem;
    }
    
    .days-count {
        font-size: 3.5rem;
    }
    
    
    .days-photo-container {
        flex-direction: column;
        gap: 20px;
        align-items: center;
    }
    
    .time-container {
        max-width: 100%;
        padding: 12px 20px;
    }
    
    .damage-photo {
        width: 160px;
        height: 120px;
    }
    
    .linkedin-modal {
        padding: 15px !important;
    }
    
    .linkedin-modal > div {
        max-width: 95vw !important;
        padding: 20px !important;
    }
    
    .linkedin-modal textarea {
        height: 150px !important;
        font-size: 0.9rem !important;
    }
    
    .linkedin-modal button {
        width: 100% !important;
        margin-bottom: 10px;
    }
}        
    
            
        /* NEW CSS CLASSES FOR UPDATED DESIGN */
        .communication-pattern {
            font-size: 0.9rem;
            color: #FFD93D;
            font-weight: 600;
            margin-bottom: 15px;
            text-transform: uppercase;
        }

.time-container {
    background: linear-gradient(45deg, rgba(230, 57, 70, 0.8), rgba(220, 53, 69, 0.8));
    padding: 15px 25px;
    border-radius: 20px;
    border: 3px solid #e63946;
    box-shadow: 0 5px 15px rgba(230, 57, 70, 0.3);
    flex: 1;
    max-width: 340px;
    height: 135px;
    display: flex;
    flex-direction: column;
    justify-content: center;
}
.damage-photo {
    width: 180px;
    height: 135px;
    border-radius: 15px;
    overflow: hidden;
    border: 3px solid #FFD93D;
    opacity: 0.95;
    transform: rotate(0deg);
    box-shadow: 0 8px 20px rgba(0,0,0,0.4);
    flex-shrink: 0;
}

.damage-photo img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}
        .days-photo-container {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 30px;
    margin-bottom: 25px;
            max-width: 100%;
}
        .silence-label {
            font-size: 1.5rem;
            color: white;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            line-height: 1.1;
        }

        .claim-details {
            background: rgba(220, 53, 69, 0.2);
            border: 2px solid #dc3545;
            padding: 18px 25px;
            border-radius: 15px;
            margin-bottom: 25px;
        }

        .amount-display {
            font-size: 2.2rem;
            font-weight: 900;
            color: #FFD93D;
            margin-bottom: 8px;
        }

        .claim-status {
            font-size: 1rem;
            color: #ff6b6b;
            text-transform: uppercase;
            font-weight: 600;
            line-height: 1.3;
        }

        .community-call {
            background: rgba(255, 215, 61, 0.15);
            border: 2px solid #FFD93D;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 25px;
        }

        .community-text {
            font-size: 1.1rem;
            color: #FFD93D;
            font-weight: 700;
            text-transform: uppercase;
            line-height: 1.4;
            margin-bottom: 8px;
        }

        .share-action {
            font-size: 1rem;
            color: #fff;
            font-weight: 600;
            text-transform: uppercase;
        }

        .corporate-question {
            font-size: 1.3rem;
            color: #fff;
            font-weight: 700;
            margin-bottom: 10px;
            text-transform: uppercase;
        }

        .hashtags {
            font-size: 1rem;
            color: #FFD93D;
            font-weight: 700;
            margin-top: 15px;
            margin-bottom: 5px;
            line-height: 1.2;
        }
/* Navigation Styles */
.nav-bar {
    background: #2c3e50;
    color: white;
    padding: 10px 0;
}

.nav-container {
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 20px;
}

.nav-links {
    display: flex;
    gap: 30px;
}

.nav-links a {
    color: white;
    text-decoration: none;
    transition: opacity 0.3s;
}

.nav-links a:hover {
    opacity: 0.7;
}

        /* Story Section Styles */
.story-section {
    margin: 0;margin-bottom: var(--spacing-lg);
}

.story-card {
    background: #fff;
    border-left: 5px solid #e74c3c;
    padding: 40px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    border-radius: 10px;
}

.story-card h2 {
    color: #c0392b;
    font-size: 2rem;
    margin-bottom: 20px;
}

.story-card p {
    font-size: 1.1rem;
    color: #555;
    margin-bottom: 25px;
    line-height: 1.8;
}

.your-story {
    background: #f8f9fa;
    padding: 25px;
    border-radius: 8px;
    margin-top: 30px;
}

.your-story h3 {
    color: #c0392b;
    font-size: 1.5rem;
    margin-bottom: 15px;
}

.cta-button {
    display: inline-block;
    background: #e74c3c;
    color: white;
    padding: 15px 30px;
    text-decoration: none;
    border-radius: 8px;
    font-weight: 600;
    font-size: 1.1rem;
    margin-top: 20px;
    transition: background 0.3s;
}

.cta-button:hover {
    background: #c0392b;
}
      /* Privacy Section Styles */
.privacy-section {
    background: #ecf0f1;
    padding: 60px 20px;
}

.privacy-container {
    max-width: 1000px;
    margin: 0 auto;
    padding: 0 20px;
}

.privacy-section h2 {
    text-align: center;
    color: #2c3e50;
    font-size: 2.5rem;
    margin-bottom: 30px;
}

.privacy-card {
    background: white;
    padding: 30px;
    border-radius: 10px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}

.privacy-card h3 {
    color: #27ae60;
    font-size: 1.5rem;
    margin-bottom: 20px;
}

.privacy-card ul {
    list-style: none;
    margin-bottom: 20px;
}

.privacy-card li {
    padding: 8px 0;
    font-size: 1.1rem;
}

.privacy-card li:before {
    content: "‚úÖ ";
    margin-right: 10px;
}  

        /* Ensure consistent styling for all sections */
.form-section,
.share-section {
    width: 100%;
    box-sizing: border-box;
}

/* Fix upload area styling */
.upload-area {
    max-width: 100%;
    box-sizing: border-box;
}
        
    </style>
</head>
<body>

    <!-- Navigation -->
<nav class="nav-bar">
    <div class="nav-container">
        <div class="logo">Still Waiting</div>
        <div class="nav-links">
            <a href="#story">My Story</a>
            <a href="#create">Create Your Card</a>
            <a href="#privacy">Privacy</a>
        </div>
    </div>
</nav>
    
    <div class="content-section">
<!-- Hero Section -->
<div class="header" id="story">
    <h1>Still Waiting</h1>
    <p>Document your experience. Share your story. Get heard.</p>
</div>
<!-- Personal Story Section -->
<div class="story-section">
    <div class="story-card">
        <h2>Day <span id="days-counter">620</span>: Still waiting for compensation. Still waiting for explanation.</h2>
        <p>I filed my luggage damage claim through Smartwings' official portal at <a href="https://claim.smartwingsgroup.com/pl/baggage_claims/create_new/" target="_blank" style="color: #c0392b;">claim.smartwingsgroup.com</a>. I provided all required documentation, photographs, and received a system-generated claim ID.</p>
        <p><strong>Result:</strong> <span id="amount-counter">‚Ç¨200</span> claim submitted. <span id="days-counter-2">620</span> days of complete silence.</p>
        
        <div class="your-story">
            <h3>Your experience deserves acknowledgment too.</h3>
            <p>If you've followed proper channels with an airline ‚Äî submitted claims through their official system, provided documentation, received confirmation ‚Äî yet face systematic non-response, you're not alone. Create a professional card that documents your experience.</p>
            <p style="color: #666; font-size: 0.95rem; margin-top: 15px;">This tool is for passengers who have already filed legitimate claims through official channels and received no response within reasonable timeframes.</p>
            <a href="#create" class="cta-button">Document Your Experience</a>
        </div>
    </div>
</div>
        
        <div class="form-section" id="create">
            <h2>üìù Document Your Experience</h2>
            <form id="claim-form">
                <div class="form-grid">
                    <div class="form-item">
                        <label for="submission-month">When was your luggage damaged?</label>
                        <select id="submission-month" required>
                            <option value="">Select Month</option>
                            <option value="1">January</option>
                            <option value="2">February</option>
                            <option value="3">March</option>
                            <option value="4">April</option>
                            <option value="5">May</option>
                            <option value="6">June</option>
                            <option value="7">July</option>
                            <option value="8">August</option>
                            <option value="9">September</option>
                            <option value="10">October</option>
                            <option value="11">November</option>
                            <option value="12">December</option>
                        </select>
                         </div>
                    <div class="form-item">
                        <label for="submission-year">Year of Damage</label>
                        <select id="submission-year" required>
                            <option value="">Select Year</option>
                        </select>
                    </div>
                    
                    <div class="form-item">
                        <label for="amount">Damage Value (‚Ç¨)</label>
                        <input type="number" id="amount" required min="1" placeholder="e.g. 1200">
                    </div>
                </div>
                
                <div id="error-message" class="error-message"></div>
                
                <button type="submit" class="btn">üöÄ Create Your Experience Card</button>
            </form>
        </div>
        
        <div class="form-section">
            <h2>üì∏ Upload Damage Evidence</h2>
            <p style="color: #666; font-size: 0.95rem; margin-bottom: 20px;">
                <strong>Show the world what Smartwings did to your luggage</strong><br>
                Photos of destruction increase shares by 400%
            </p>
            <div class="upload-area" id="upload-area">
                <div class="upload-icon" style="font-size: 3rem; margin-bottom: 10px;">üì∑</div>
                <p><strong>Drop your damage photos here</strong> or click to select</p>
                <p style="font-size: 0.9rem; color: #666;">JPG, PNG supported ‚Ä¢ Max 5MB ‚Ä¢ Show the damage!</p>
                <input type="file" id="photo-input" accept="image/*" style="display: none;">
            </div>
            
            <div id="photo-preview-section" style="display: none; margin-top: 20px;">
                <img id="photo-preview" class="photo-preview">
                <div class="photo-controls">
                    <button class="photo-btn" onclick="rotatePhoto()">üîÑ Rotate</button>
                    <button class="photo-btn" onclick="adjustPhoto()">üé® Brighten</button>
                    <button class="photo-btn remove" onclick="removePhoto()">‚ùå Remove</button>
                </div>
            </div>
        </div>
        
        <div id="card-section" style="display: none;">
            
    <div class="claim-card" id="claim-card">
    <div class="communication-pattern">CLAIM FILED ‚Ä¢ NO RESPONSE ‚Ä¢ NO CONTACT</div>
    <div class="airline-brand">SMARTWINGS</div>
    <div class="damage-type">DESTROYED MY LUGGAGE</div>
    
    <div class="days-photo-container">
        <div class="time-container">
            <div class="days-count" id="days-count">0</div>
            <div class="silence-label">DAYS OF SILENCE</div>
        </div>
        <div class="damage-photo" id="card-photo-container" style="display: none;">
            <img id="card-photo" alt="Luggage damage evidence">
        </div>
    </div>
    
    <div class="claim-details">
        <div class="amount-display" id="amount-value">‚Ç¨0</div>
        <div class="claim-status">STILL NO RESPONSE</div>
    </div>
    
    <div class="community-call">
        <div class="community-text">FACING THE SAME SILENCE?</div>
        <div class="share-action">SHARE YOUR STORY</div>
    </div>
    
    <div class="corporate-question">WAITING FOR A RESPONSE?</div>
    <div class="hashtags">#SMARTWINGSSILENCE #ACCOUNTABILITY</div>
</div>  
        </div>
        
        <div class="share-section" id="share-section" style="display: none;">
            <h2>üì¢ Share Your Experience</h2>
            <p style="color: #666;">Help others understand Smartwings' response times by sharing your experience</p>
            
            <div class="share-grid">
                <button class="share-btn twitter" onclick="shareToTwitter()">
                    <span>üê¶</span> Share on Twitter/X
                </button>
                <button class="share-btn facebook" onclick="shareToFacebook()">
                    <span>üìò</span> Post on Facebook
                </button>
                <button class="share-btn linkedin" onclick="shareToLinkedIn()">
                    <span>üíº</span> Post on LinkedIn
                </button>
                <button class="share-btn whatsapp" onclick="shareToWhatsApp()">
                    <span>üí¨</span> Share Your Story
                </button>
                <button class="share-btn download" onclick="downloadCard()">
                    <span>üì∏</span> Get Your Card
                </button>
            </div>
<div class="help-text" style="margin-top: 25px; background: #f8f9fa; padding: 20px; border-radius: 10px; text-align: center;">
    <p style="margin: 0; color: #555; font-size: 0.95rem;">
        <strong>üí° Pro tip:</strong> Click "Get Your Card" to download the image. 
        Then share it anywhere - Instagram stories, LinkedIn, emails, forums.
    </p>
</div>
            
            <div class="success-message" id="success-message"></div>
            
            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-top: 20px; font-family: monospace; font-size: 0.9rem; line-height: 1.5;" id="share-message"></div>
        </div>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script>
        let claimData = {};
        let currentPhoto = null;
        let currentRotation = 0;
        let currentBrightness = 100;
        
        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded, initializing...');
            initializeYears();
            setupEventListeners();
        });
        
        function initializeYears() {
            const yearSelect = document.getElementById('submission-year');
            const currentYear = new Date().getFullYear();
            
            for (let year = currentYear; year >= currentYear - 5; year--) {
                const option = document.createElement('option');
                option.value = year;
                option.textContent = year;
                yearSelect.appendChild(option);
            }
        }
        
        function setupEventListeners() {
            // Form submission handler
            const form = document.getElementById('claim-form');
            form.addEventListener('submit', handleFormSubmit);
            
            // Photo upload setup
            const uploadArea = document.getElementById('upload-area');
            const photoInput = document.getElementById('photo-input');
            
            uploadArea.addEventListener('click', () => photoInput.click());
            uploadArea.addEventListener('dragover', handleDragOver);
            uploadArea.addEventListener('dragleave', handleDragLeave);
            uploadArea.addEventListener('drop', handleDrop);
            
            photoInput.addEventListener('change', (e) => {
                if (e.target.files.length > 0) {
                    processFile(e.target.files[0]);
                }
            });
        }
        
        function showError(message) {
            const errorEl = document.getElementById('error-message');
            errorEl.textContent = message;
            errorEl.classList.add('show');
            
            setTimeout(() => {
                errorEl.classList.remove('show');
            }, 5000);
        }
        
        function handleFormSubmit(e) {
            e.preventDefault();
            console.log('Form submitted');
            
            try {
                const month = document.getElementById('submission-month').value;
                const year = document.getElementById('submission-year').value;
                const amount = document.getElementById('amount').value;
                
                if (!month || !year || !amount) {
                    showError('Please fill in all fields to expose the fraud');
                    return;
                }
                
                const days = calculateDaysSince(month, year);
                const submissionDate = new Date(year, month - 1, 1).toLocaleDateString('en-US', {
                    month: 'long',
                    year: 'numeric'
                });
                
                claimData = { days, amount, submissionDate };
                console.log('Claim data:', claimData);
                
                updateCard();
                showCard();
            } catch (error) {
                console.error('Form error:', error);
                showError('Error creating card. Please check your input and try again.');
            }
        }
        
        function calculateDaysSince(month, year) {
            const submissionDate = new Date(year, month - 1, 1);
            const today = new Date();
            const diffTime = Math.abs(today - submissionDate);
            return Math.ceil(diffTime / (1000 * 60 * 60 * 24));
        }
        
function updateCard() {
    document.getElementById('days-count').textContent = claimData.days;
    document.getElementById('amount-value').textContent = `‚Ç¨${claimData.amount}`;
    
    const message = generateCampaignMessage(); // This now uses the new message
    document.getElementById('share-message').textContent = message;
}
        
        function showCard() {
            document.getElementById('card-section').style.display = 'block';
            document.getElementById('share-section').style.display = 'block';
            document.getElementById('card-section').scrollIntoView({ behavior: 'smooth' });
        }
        
        // Photo handling functions
        function handleDragOver(e) {
            e.preventDefault();
            e.currentTarget.style.borderColor = '#dc3545';
            e.currentTarget.style.background = 'rgba(220, 53, 69, 0.1)';
        }
        
        function handleDragLeave(e) {
            e.preventDefault();
            e.currentTarget.style.borderColor = '#ddd';
            e.currentTarget.style.background = '#f8f9fa';
        }
        
        function handleDrop(e) {
            e.preventDefault();
            e.currentTarget.style.borderColor = '#ddd';
            e.currentTarget.style.background = '#f8f9fa';
            
            const files = e.dataTransfer.files;
            if (files.length > 0) {
                processFile(files[0]);
            }
        }
        
        function processFile(file) {
            if (!file.type.match('image.*')) {
                showError('Please select an image file showing the damage');
                return;
            }
            
            if (file.size > 5 * 1024 * 1024) {
                showError('File size must be less than 5MB');
                return;
            }
            
            const reader = new FileReader();
          reader.onload = function(e) {
    currentPhoto = e.target.result;
    console.log('Photo loaded successfully');
    showPhotoPreview();
    updateCardPhoto();
};
            reader.readAsDataURL(file);
        }
        
        function showPhotoPreview() {
            const preview = document.getElementById('photo-preview');
            const previewSection = document.getElementById('photo-preview-section');
            
            preview.src = currentPhoto;
            previewSection.style.display = 'block';
        }
        
        function updateCardPhoto() {
    if (!currentPhoto) return;
    
    const cardPhoto = document.getElementById('card-photo');
    const cardPhotoContainer = document.getElementById('card-photo-container');
    
    if (cardPhoto && cardPhotoContainer) {
        cardPhoto.src = currentPhoto;
        cardPhoto.onload = function() {
            cardPhotoContainer.style.display = 'block';
        };
        applyImageTransforms();
    }
}
        
        function rotatePhoto() {
            currentRotation = (currentRotation + 90) % 360;
            applyImageTransforms();
        }
        
        function adjustPhoto() {
            currentBrightness = currentBrightness === 100 ? 130 : 100;
            applyImageTransforms();
        }
        
        function removePhoto() {
            currentPhoto = null;
            currentRotation = 0;
            currentBrightness = 100;
            
            document.getElementById('photo-preview-section').style.display = 'none';
            document.getElementById('photo-input').value = '';
            
            const cardPhoto = document.getElementById('card-photo');
            const cardPhotoContainer = document.getElementById('card-photo-container');
            
            cardPhotoContainer.style.display = 'none';
            cardPhoto.src = '';
        }
        
        function applyImageTransforms() {
            const preview = document.getElementById('photo-preview');
            const cardPhoto = document.getElementById('card-photo');
            
            const transform = `rotate(${currentRotation}deg)`;
            const filter = `brightness(${currentBrightness}%)`;
            
            preview.style.transform = transform;
            preview.style.filter = filter;
            cardPhoto.style.transform = transform;
            cardPhoto.style.filter = filter;
        }
        
   function generateScandalMessage() {
    const url = window.location.href;
    return `üö® SMARTWINGS ACCOUNTABILITY DEMANDED üö®

‚úàÔ∏è Luggage destroyed by Smartwings
üí∞ ‚Ç¨${claimData.amount} claim filed
üìÖ ${claimData.days} DAYS OF COMPLETE SILENCE
üìû NO phone support available
üìß Email ignored completely
üíª Web form with no response

SYSTEM DESIGNED TO AVOID ACCOUNTABILITY

#SmartwingsAccountability #PassengerRights #SystemicFailure

Document your experience: ${url}`;
}
function generateCampaignMessage() {
    const currentUrl = window.location.href;
    const pricePerDay = (claimData.amount / claimData.days).toFixed(3);
    
    return `Day ${claimData.days}: Smartwings owes me ‚Ç¨${claimData.amount} for luggage damage.
That's ‚Ç¨${pricePerDay} per day 'saved' through systematic delays.
Instead of giving up, I built an awareness tool to help passengers get properly heard and compensated.
üìä Protect your rights: ${currentUrl}
Who else faces endless Smartwings delays?
#SmartwingsWatch #PassengerProtection`;
}

function generateTwitterMessage() {
    const currentUrl = window.location.href;
    const pricePerDay = (claimData.amount / claimData.days).toFixed(3);
    
    return `Day ${claimData.days}: Smartwings owes me ‚Ç¨${claimData.amount} for luggage damage.
‚Ç¨${pricePerDay}/day 'saved' through systematic delays.
Built an awareness tool to help passengers get heard & compensated.
üìä Protect yourself: ${currentUrl}
Who else faces endless Smartwings delays?
#SmartwingsWatch #PassengerProtection`;
}

function generateLinkedInMessage() {
    const currentUrl = window.location.href;
    const pricePerDay = (claimData.amount / claimData.days).toFixed(3);
    
    return `Professional Update: Airline Customer Service Accountability

I'm sharing my experience to highlight systematic issues in airline customer service, specifically with Smartwings.

Situation:
- Claim filed: ${claimData.submissionDate}
- Amount: ‚Ç¨${claimData.amount} (luggage damage)
- Status: ${claimData.days} days without resolution
- Daily cost delay: ‚Ç¨${pricePerDay}

Rather than simply complaining, I developed an awareness tool to help passengers:
‚úì Document experiences systematically
‚úì Navigate claim processes effectively  
‚úì Get properly heard and compensated
‚úì Protect their rights as consumers

This tool transforms individual frustrations into collective awareness and accountability.

Access the platform: ${currentUrl}

Have others experienced similar systematic delays with airlines?

#PassengerRights #CustomerService #InnovativeSolutions #SmartwingsWatch #ConsumerProtection`;
}

        function generateWhatsAppMessage() {
    const currentUrl = window.location.href;
    const pricePerDay = (claimData.amount / claimData.days).toFixed(3);
    
    return `üö® Day ${claimData.days}: Smartwings still owes me ‚Ç¨${claimData.amount}!

They've 'saved' ‚Ç¨${pricePerDay} per day through delays.

Instead of giving up, I built an awareness tool to help passengers get heard and get compensated properly.

üì± Check it out: ${currentUrl}

Share if you've faced similar issues with airlines!
#SmartwingsWatch #PassengerProtection`;
}

function generateFacebookMessage() {
    const currentUrl = window.location.href;
    const pricePerDay = (claimData.amount / claimData.days).toFixed(3);
    
    return `‚úàÔ∏è PASSENGER RIGHTS UPDATE ‚úàÔ∏è

Day ${claimData.days}: Still waiting for Smartwings to pay my ‚Ç¨${claimData.amount} luggage damage claim.

The math? They've 'saved' ‚Ç¨${pricePerDay} per day through systematic delays.

Instead of just complaining, I did something about it - I built an awareness tool that helps passengers:
üîπ Get properly heard
üîπ Document their experiences  
üîπ Navigate claim processes
üîπ Secure fair compensation

üí° Try the tool: ${currentUrl}

TAG someone who's had airline issues!
How long have they kept you waiting?

#SmartwingsWatch #PassengerProtection #TravelRights #GetCompensated

Share this post to help fellow travelers! üëá`;
}
        
 async function shareToTwitter() {
    const btn = document.querySelector('.share-btn.twitter');
    btn.style.opacity = '0.7';
    btn.style.pointerEvents = 'none';
    
    try {
        const message = generateTwitterMessage();
        const cardImage = await generateCardImage();
        
        if (navigator.clipboard && cardImage) {
            try {
                await navigator.clipboard.write([
                    new ClipboardItem({ 'image/png': cardImage })
                ]);
                showSuccess('üê¶ Twitter opened! Your story and evidence copied to clipboard - paste it with your post!');
            } catch (e) {
                showSuccess('üê¶ Twitter opened! Download the card and attach it to expose the delays!');
            }
        }
        
        const twitterUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(message)}`;
        window.open(twitterUrl, '_blank');
    } catch (error) {
        showError('Error preparing Twitter post. Please try again.');
    } finally {
        btn.style.opacity = '1';
        btn.style.pointerEvents = 'auto';
    }
}
        
async function shareToFacebook() {
    const btn = document.querySelector('.share-btn.facebook');
    btn.style.opacity = '0.7';
    btn.style.pointerEvents = 'none';
    
    try {
        const message = generateFacebookMessage();
        const cardImage = await generateCardImage();
        
        if (navigator.share && cardImage) {
            try {
                const file = new File([cardImage], 'smartwings-delay-evidence.png', { type: 'image/png' });
                await navigator.share({
                    text: message,
                    files: [file]
                });
                showSuccess('‚úÖ Successfully shared to Facebook with your story!');
                return;
            } catch (e) {
                console.log('Native share failed');
            }
        }
        
        if (navigator.clipboard) {
            try {
                await navigator.clipboard.writeText(message);
                showSuccess('üìò Facebook opened! Your story copied to clipboard - paste it with your card!');
            } catch (e) {
                showSuccess('üìò Facebook opened! Copy the message below and share your experience');
            }
        }
        
        window.open('https://www.facebook.com/', '_blank');
    } catch (error) {
        console.error('Facebook share error:', error);
        showError('Error preparing Facebook post. Please try again.');
    } finally {
        btn.style.opacity = '1';
        btn.style.pointerEvents = 'auto';
    }
}

async function shareToLinkedIn() {
    const btn = document.querySelector('.share-btn.linkedin');
    btn.style.opacity = '0.7';
    btn.style.pointerEvents = 'none';
    
    try {
        const message = generateLinkedInMessage();
        const cardImage = await generateCardImage(true);
        
        // Create a modal with copy-paste instructions
        const modal = document.createElement('div');
        modal.className = 'linkedin-modal';
        modal.style.cssText = `
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000;
        `;
        
        modal.innerHTML = `
            <div style="background: white; padding: 30px; border-radius: 15px; max-width: 650px; max-height: 90vh; overflow-y: auto; box-shadow: 0 10px 30px rgba(0,0,0,0.3);">
                <h2 style="color: #0077b5; margin-top: 0;">Share on LinkedIn</h2>
                <p style="color: #666; margin-bottom: 20px;">Follow these steps to share your experience:</p>
                
                <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                    <h3 style="color: #0077b5; margin-top: 0; font-size: 1.1rem;">Step 1: Copy Your Message</h3>
                    <textarea readonly style="width: 100%; height: 120px; margin: 10px 0; padding: 10px; border: 1px solid #ddd; border-radius: 5px; font-family: inherit; resize: vertical;">${message.replace(/'/g, "&#39;")}</textarea>
                    <button onclick="navigator.clipboard.writeText(\`${message}\`).then(() => { this.textContent = '‚úÖ Copied!'; this.style.background = '#28a745'; setTimeout(() => { this.textContent = 'Copy Message'; this.style.background = '#0077b5'; }, 2000); })" style="background: #0077b5; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; font-weight: 600;">Copy Message</button>
                </div>
                
                <div style="background: #fff3cd; padding: 15px; border-radius: 8px; margin-bottom: 20px; border-left: 4px solid #ffc107;">
                    <h3 style="color: #856404; margin-top: 0; font-size: 1.1rem;">Step 2: Add Your Image on LinkedIn</h3>
                    <p style="color: #856404; margin-bottom: 10px; font-weight: 600;">Your evidence card is already downloaded! Look for:</p>
                    <ul style="color: #856404; margin: 0; padding-left: 20px;">
                        <li>üì∑ <strong>Image icon</strong> in the toolbar (appears when you click in the text area)</li>
                        <li>If toolbar is hidden, click the <strong>‚ùå X</strong> button on the right side</li>
                        <li>Upload the downloaded file: <em>"SmartwingsWatch-LinkedIn-${new Date().getDate()}${new Date().toLocaleString('default', {month: 'short'})}${new Date().getFullYear()}.png"</em></li>
                    </ul>
                </div>
                
                <div style="background: #e7f3ff; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                    <h3 style="color: #004589; margin-top: 0; font-size: 1.1rem;">Step 3: Post Your Experience</h3>
                    <ol style="color: #004589; margin: 0; padding-left: 20px;">
                        <li>Click the LinkedIn button below</li>
                        <li>Paste your message in the text area</li>
                        <li>Click the image icon (üì∑) in the toolbar</li>
                        <li>Upload your downloaded card</li>
                        <li>Click "Post" to share!</li>
                    </ol>
                </div>
                
                <div style="margin-top: 30px; text-align: center;">
                    <button onclick="window.open('https://www.linkedin.com/feed/', '_blank')" style="background: #0077b5; color: white; border: none; padding: 15px 30px; border-radius: 10px; cursor: pointer; margin-right: 10px; font-weight: 600; font-size: 1rem;">üöÄ Open LinkedIn</button>
                    <button onclick="document.body.removeChild(document.querySelector('.linkedin-modal')); document.querySelector('.share-btn.linkedin').style.opacity = '1'; document.querySelector('.share-btn.linkedin').style.pointerEvents = 'auto';" style="background: #666; color: white; border: none; padding: 15px 30px; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 1rem;">Close</button>
                </div>
            </div>
        `;
        
        // Click outside to close
        modal.onclick = function(e) {
            if (e.target === modal) {
                document.body.removeChild(modal);
                btn.style.opacity = '1';
                btn.style.pointerEvents = 'auto';
            }
        };
        
        document.body.appendChild(modal);
        
        // Auto-download the image
        const link = document.createElement('a');
        const today = new Date();
        const dateString = `${today.getDate()}${today.toLocaleString('default', { month: 'short' })}${today.getFullYear()}`;
        link.download = `SmartwingsWatch-LinkedIn-${dateString}.png`;
        link.href = URL.createObjectURL(cardImage);
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
        
        showSuccess('üíº LinkedIn sharing ready! Follow the detailed steps in the popup.');
        
    } catch (error) {
        console.error('LinkedIn share error:', error);
        showError('Error preparing LinkedIn share. Please try again.');
    } finally {
        // Don't reset button here - it gets reset when modal closes
    }
}
        
async function shareToWhatsApp() {
    const btn = document.querySelector('.share-btn.whatsapp');
    btn.style.opacity = '0.7';
    btn.style.pointerEvents = 'none';
    
    try {
        const message = generateWhatsAppMessage();
        const cardImage = await generateCardImage();
        
        // Try native sharing first (works on mobile)
        if (navigator.share && cardImage) {
            try {
                const file = new File([cardImage], 'smartwings-delay-evidence.png', { type: 'image/png' });
                await navigator.share({
                    text: message,
                    files: [file]
                });
                showSuccess('‚úÖ Successfully shared via WhatsApp with your story!');
                return;
            } catch (e) {
                console.log('Native share failed');
            }
        }
        
        // Fallback: Copy message and download image
        if (navigator.clipboard) {
            await navigator.clipboard.writeText(message);
        }
        
        downloadCard(); // Auto-download the image
        
        const whatsappUrl = `https://api.whatsapp.com/send?text=${encodeURIComponent(message)}`;
        window.open(whatsappUrl, '_blank');
        
        showSuccess('üí¨ WhatsApp opened! Your story copied and evidence downloaded - attach the image!');
    } catch (error) {
        console.error('WhatsApp share error:', error);
        showError('Error preparing WhatsApp share. Please try again.');
    } finally {
        btn.style.opacity = '1';
        btn.style.pointerEvents = 'auto';
    }
}
       
    function getDateString() {
    const today = new Date();
    const day = today.getDate();
    const month = today.toLocaleString('default', { month: 'short' });
    const year = today.getFullYear();
    return `${day}${month}${year}`;
}
    async function downloadCard() {
    const btn = document.querySelector('.share-btn.download');
    if (!btn) {
        showError('Download button not found');
        return;
    }
    
    btn.style.opacity = '0.7';
    btn.style.pointerEvents = 'none';
    
    try {
        console.log('Starting download...'); // Debug line
        console.log('claimData:', claimData); // Debug line
        
        const cardImage = await generateCardImage(true);
        console.log('Image generated successfully'); // Debug line
        
        const today = new Date();
        const day = today.getDate();
        const month = today.toLocaleString('default', { month: 'short' });
        const year = today.getFullYear();
        const dateString = `${day}${month}${year}`;
        
        const link = document.createElement('a');
        link.download = `My-Smartwings-Card-${dateString}-${claimData.days}days.png`;
        link.href = URL.createObjectURL(cardImage);
        
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
        
        console.log('Download completed'); // Debug line
        showSuccess('üíæ Card downloaded successfully!');
    } catch (error) {
        console.error('Download error:', error);
        showError('Error downloading card. Please try again.');
    } finally {
        btn.style.opacity = '1';
        btn.style.pointerEvents = 'auto';
    }
}
       
     async function generateCardImage(smaller = false) {
    const cardElement = document.getElementById('claim-card');
    
    return new Promise((resolve, reject) => {
        html2canvas(cardElement, {
            scale: smaller ? 1 : 2,  // Use scale 1 for smaller images
            backgroundColor: '#000000',
            useCORS: true,
            allowTaint: true
        }).then(canvas => {
            if (smaller) {
                // Create a smaller canvas for email sharing
                const smallCanvas = document.createElement('canvas');
                const ctx = smallCanvas.getContext('2d');
                smallCanvas.width = 400;  // Fixed width for email
                smallCanvas.height = (400 * canvas.height) / canvas.width;  // Maintain aspect ratio
                ctx.drawImage(canvas, 0, 0, smallCanvas.width, smallCanvas.height);
                smallCanvas.toBlob(resolve, 'image/png', 0.9);
            } else {
                canvas.toBlob(resolve, 'image/png', 0.9);
            }
        }).catch(reject);
    });
}
       
 function showSuccess(message) {
    const successEl = document.getElementById('success-message');
    // Preserve line breaks by converting \n to <br>
    successEl.innerHTML = message.replace(/\n/g, '<br>');
    successEl.classList.add('show');
    
    setTimeout(() => {
        successEl.classList.remove('show');
    }, 15000); // Longer timeout for detailed instructions
}
   </script>
    <!-- Privacy Section -->
<section id="privacy" class="privacy-section">
    <div class="privacy-container">
        <h2>Your Privacy</h2>
        <div class="privacy-card">
            <h3>No Data Collection</h3>
            <ul>
                <li>All processing happens in your browser</li>
                <li>No personal data stored on servers</li>
                <li>No tracking or analytics</li>
                <li>No account creation required</li>
                <li>GDPR compliant by design</li>
            </ul>
            <p>You control your data completely. Generate cards locally, share what you choose.</p>
        </div>
    </div>
</section>
</body>
</html>
