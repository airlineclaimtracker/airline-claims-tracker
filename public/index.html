<!DOCTYPE html>
<html lang="en">
<head>
    <!-- ========================================= -->
    <!-- META TAGS & DOCUMENT SETTINGS -->
    <!-- ========================================= -->
    <meta charset="UTF-8">
    <!-- Update the existing viewport meta tag with this -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <title>SmartwingsWatch - Document Airline Claim Experiences</title>
    <meta name="description" content="Help passengers document and share airline claim experiences for better accountability and awareness.">
    
    <!-- Social Media Meta Tags -->
    <meta property="og:title" content="SmartwingsWatch - Passenger Rights Documentation Tool">
    <meta property="og:description" content="ool to help passengers document airline claim experiences and build awareness for better customer service accountability.">
    <meta property="og:type" content="website">
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#e63946">
    
    <!-- ========================================= -->
    <!-- CSS STYLES START -->
    <!-- ========================================= -->
    <style>
        
        /* ========================================= */
        /* CSS CUSTOM PROPERTIES (DESIGN TOKENS) */
        /* ========================================= */
        
        :root {
            /* Colors */
            --primary-red: #dc3545;
            --dark-red: #c82333;
            --accent-yellow: #FFD93D;
            --text-dark: #1d3557;
            --bg-light: #f8f9fa;
            --text-primary: #1d1d1f;
            --text-secondary: #86868b;
            --surface: #fafafa;
            
            /* Spacing */
            --spacing-xs: 8px;
            --spacing-sm: 16px;
            --spacing-md: 24px;
            --spacing-lg: 40px;
            
            /* Sizes */
            --border-radius: 12px;
            --max-content-width: 1000px;
            
            /* Typography */
            --font-xs: 0.75rem;    /* 12px */
            --font-sm: 0.875rem;   /* 14px */
            --font-base: 1rem;     /* 16px */
            --font-lg: 1.125rem;   /* 18px */
            --font-xl: 1.5rem;     /* 24px */
            --font-2xl: 2rem;      /* 32px */
            --font-3xl: 2.5rem;    /* 40px */
        }
        
        /* ========================================= */
        /* GLOBAL STYLES */
        /* ========================================= */
        
        * {
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f8f9fa;
            color: #333;
        }
        
        /* ========================================= */
        /* LAYOUT CONTAINERS */
        /* ========================================= */
        
        .content-section {
            max-width: 1000px;
            margin: 0 auto;
            padding: 30px 20px;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* ========================================= */
        /* HEADER SECTION */
        /* ========================================= */
        
        .header {
            background: linear-gradient(135deg, var(--primary-red), var(--dark-red));
            color: white;
            padding: 30px 20px;  /* Reduced from 40px to 30px */
            text-align: center;
            border-radius: 15px;
            margin-bottom: 30px;
        }
        
        .header h1 {
            margin: 0;
            font-size: 2.5rem;  /* Reduced from 3rem to 2.5rem */
            font-weight: 800;
            color: white;  /* Explicit white color */
        }
        
        .header p {
            margin: 15px 0 0;
            font-size: 1rem;  /* Reduced from 1.2rem to 1rem */
            color: white;  /* Explicit white color */
            opacity: 0.95;
        }
        
        /* ========================================= */
        /* FORM SECTION STYLES */
        /* ========================================= */
        
        .form-section {
            background: white;
            padding: var(--spacing-lg);
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            margin-bottom: var(--spacing-md);
            width: 100%;
            max-width: 100%;
            box-sizing: border-box;
        }
        
        .form-section h2 {
            color: var(--text-dark);
            margin-top: 0;
            font-size: 1.4rem;
            font-weight: 700;
            text-align: center;
            margin-bottom: var(--spacing-md);
        }
        
        .form-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 25px;
        }
        
        .form-item {
            display: flex;
            flex-direction: column;
        }
        
        /* ========================================= */
        /* FORM INPUT STYLES */
        /* ========================================= */
        
        label {
            color: #1d3557;
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 0.95rem;
        }
        
        input,
        select {
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            background: white;
            transition: border-color 0.3s;
        }
        
        input:focus,
        select:focus {
            outline: none;
            border-color: var(--primary-red);
        }
        
        /* ========================================= */
        /* BUTTON STYLES */
        /* ========================================= */
        
        .btn {
            background: linear-gradient(135deg, var(--primary-red), var(--dark-red));
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: var(--border-radius);
            font-size: var(--font-base);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: block;               /* Changed from inline-block to block */
            text-decoration: none;
            margin: 20px auto;            /* Added this line */
            width: max-content;           /* Added this line */
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(220, 53, 69, 0.4);
        }
        
        /* ========================================= */
        /* FILE UPLOAD STYLES */
        /* ========================================= */
        
        .upload-area {
            border: 3px dashed #ddd;
            border-radius: 15px;
            padding: 40px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            background: #f8f9fa;
        }
        
        .upload-area:hover {
            border-color: var(--primary-red);
            background: rgba(220, 53, 69, 0.05);
        }
        
        .upload-compact {
            background: #f9f9f9;
            border: 1px dashed #ddd;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            margin: 20px 0;
            transition: border-color 0.2s;
        }
        
        .upload-compact:hover {
            border-color: var(--primary-red);
        }
        
        .upload-btn {
            background: white;
            border: 1px solid #ddd;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s;
        }
        
        .upload-btn:hover {
            background: #f5f5f5;
            border-color: var(--primary-red);
        }
        /* ========================================= */
        /* CLAIM CARD STYLES */
        /* ========================================= */
        
        .claim-card {
            width: 600px;
            height: 600px;
            background: linear-gradient(135deg, #000000, #1a0000);
            color: white;
            position: relative;
            overflow: hidden;
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 35px 35px 50px 35px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.5);
            margin: 0 auto;
        }
        
        .claim-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 10px;
            background: linear-gradient(90deg, #e63946, #dc3545, #e63946);
            animation: pulse-red 2s infinite;
        }
        
        /* ========================================= */
        /* ANIMATIONS */
        /* ========================================= */
        
        @keyframes pulse-red {
            0% { filter: brightness(1); }
            50% { filter: brightness(1.3); }
            100% { filter: brightness(1); }
        }
        
        @keyframes shock-pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.03); }
            100% { transform: scale(1); }
        }
        /* Days Counter Animation */
.claim-card-minimalist .days-count {
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.03); }
    100% { transform: scale(1); }
}

.claim-card-impact .days-count {
    animation: pulse-impact 2s infinite;
}

@keyframes pulse-impact {
    0% { transform: scale(1); text-shadow: 0 0 10px rgba(255,255,255,0.1); }
    50% { transform: scale(1.05); text-shadow: 0 0 20px rgba(255,255,255,0.3); }
    100% { transform: scale(1); text-shadow: 0 0 10px rgba(255,255,255,0.1); }
}

.claim-card-context .days-count {
    animation: pulse-context 2s infinite;
}

@keyframes pulse-context {
    0% { color: #dc2626; }
    50% { color: #ef4444; }
    100% { color: #dc2626; }
}
        /* ========================================= */
        /* CLAIM CARD CONTENT STYLES */
        /* ========================================= */
        
        .days-count {
            font-size: 3rem;
            font-weight: 900;
            color: #e63946;
            text-shadow: 4px 4px 0px #000;
            line-height: 0.8;
            margin-bottom: 8px;
            animation: shock-pulse 3s infinite;
        }
        
        .airline-brand {
            font-size: 2.5rem;
            font-weight: 900;
            color: #fff;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
        }
        
        .damage-type {
            font-size: 1.4rem;
            color: #ff6b6b;
            font-weight: 700;
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }
        
        .communication-pattern {
            font-size: 0.9rem;
            color: #FFD93D;
            font-weight: 600;
            margin-bottom: 15px;
            text-transform: uppercase;
        }
        
        .silence-label {
            font-size: 1.5rem;
            color: white;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            line-height: 1.1;
        }
        
        /* ========================================= */
        /* PHOTO HANDLING STYLES */
        /* ========================================= */
        
        .damage-photo {
            width: 180px;
            height: 135px;
            border-radius: 15px;
            overflow: hidden;
            border: 3px solid #FFD93D;
            opacity: 0.95;
            transform: rotate(0deg);
            box-shadow: 0 8px 20px rgba(0,0,0,0.4);
            flex-shrink: 0;
        }
        
        .damage-photo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .photo-preview {
            max-width: 100%;
            height: auto;
            border-radius: 10px;
        }
        
        .photo-controls {
            margin-top: 15px;
            display: flex;
            gap: 10px;
            justify-content: center;
        }
        
        .photo-btn {
            background: #6c757d;
            color: white;
            padding: 8px 16px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            transition: background 0.3s;
        }
        
        .photo-btn:hover {
            background: #5a6268;
        }
        
        .photo-btn.remove {
            background: #dc3545;
        }
        
        .photo-btn.remove:hover {
            background: #c82333;
        }
        
        /* ========================================= */
        /* CARD LAYOUT COMPONENTS */
        /* ========================================= */
        
        .days-photo-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 30px;
            margin-bottom: 25px;
            max-width: 100%;
        }
        
        .time-container {
            background: linear-gradient(45deg, rgba(230, 57, 70, 0.8), rgba(220, 53, 69, 0.8));
            padding: 15px 25px;
            border-radius: 20px;
            border: 3px solid #e63946;
            box-shadow: 0 5px 15px rgba(230, 57, 70, 0.3);
            flex: 1;
            max-width: 340px;
            height: 135px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .claim-details {
            background: rgba(220, 53, 69, 0.2);
            border: 2px solid #dc3545;
            padding: 18px 25px;
            border-radius: 15px;
            margin-bottom: 25px;
        }
        
        .amount-display {
            font-size: 2.2rem;
            font-weight: 900;
            color: #FFD93D;
            margin-bottom: 8px;
        }
        
        .claim-status {
            font-size: 1rem;
            color: #ff6b6b;
            text-transform: uppercase;
            font-weight: 600;
            line-height: 1.3;
        }
        
        .community-call {
            background: rgba(255, 215, 61, 0.15);
            border: 2px solid #FFD93D;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 25px;
        }
        
        .community-text {
            font-size: 1.1rem;
            color: #FFD93D;
            font-weight: 700;
            text-transform: uppercase;
            line-height: 1.4;
            margin-bottom: 8px;
        }
        
        .share-action {
            font-size: 1rem;
            color: #fff;
            font-weight: 600;
            text-transform: uppercase;
        }
        
        .corporate-question {
            font-size: 1.3rem;
            color: #fff;
            font-weight: 700;
            margin-bottom: 10px;
            text-transform: uppercase;
        }
        
        .hashtags {
            font-size: 1rem;
            color: #FFD93D;
            font-weight: 700;
            margin-top: 15px;
            margin-bottom: 5px;
            line-height: 1.2;
        }
        /* ========================================= */
        /* SHARE SECTION STYLES */
        /* ========================================= */
        .share-subtitle {
        color: #666;
        margin-top: -5px;
        margin-bottom: 20px;
        font-size: 0.95rem;
        text-align: center;
        }
        /* Platform tips styles */
.platform-tips {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-bottom: 20px;
    justify-content: center;
}

.tip-item {
    display: flex;
    align-items: center;
    gap: 8px;
    background: white;
    padding: 8px 12px;
    border-radius: 20px;
    font-size: 0.9rem;
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    border: 1px solid #f0f0f0;
}

.tip-icon {
    font-size: 1.1rem;
}

.tip-text {
    color: #555;
}

/* Mobile adjustments */
@media (max-width: 768px) {
    .platform-tips {
        flex-direction: column;
        align-items: center;
    }
    
    .tip-item {
        width: 100%;
        max-width: 300px;
    }
}
        .share-section {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin-top: 30px;
        }
        
        .share-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .share-btn {
            padding: 15px 20px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            background: white;
            color: #333;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .share-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        /* ========================================= */
        /* PLATFORM-SPECIFIC SHARE BUTTON STYLES */
        /* ========================================= */
        
        .share-btn.twitter {
            border-color: #1da1f2;
            color: #1da1f2;
        }
        
        .share-btn.twitter:hover {
            background: #1da1f2;
            color: white;
        }
        
        .share-btn.facebook {
            border-color: #4267b2;
            color: #4267b2;
        }
        
        .share-btn.facebook:hover {
            background: #4267b2;
            color: white;
        }
        
        .share-btn.linkedin {
            border-color: #0077b5;
            color: #0077b5;
            position: relative;
        }
        
        .share-btn.linkedin:hover {
            background: #0077b5;
            color: white;
        }
        
        .share-btn.linkedin::after {
            content: 'Manual post';
            position: absolute;
            bottom: -20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.7rem;
            color: #666;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .share-btn.linkedin:hover::after {
            opacity: 1;
        }
        
        .share-btn.whatsapp {
            border-color: #25d366;
            color: #25d366;
        }
        
        .share-btn.whatsapp:hover {
            background: #25d366;
            color: white;
        }
        
        .share-btn.download {
            border-color: #28a745;
            color: #28a745;
        }
        
        .share-btn.download:hover {
            background: #28a745;
            color: white;
        }
        
        /* ========================================= */
        /* SUCCESS/ERROR MESSAGE STYLES */
        /* ========================================= */
        
        .success-message {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            display: none;
        }
        
        .success-message.show {
            display: block;
        }
        
        .error-message {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            display: none;
        }
        
        .error-message.show {
            display: block;
        }
        
        /* ========================================= */
        /* RESPONSIVE DESIGN - MOBILE STYLES */
        /* ========================================= */
        
        @media (max-width: 768px) {
            .content-section {
                padding: 15px 10px;
            }
            
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            .btn {
                width: 100%;
                padding: 18px;
                font-size: 1rem;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .header p {
                font-size: 1rem;
            }
            
            .claim-card {
                width: 100%;
                max-width: 500px;
                height: 450px;
                padding: 25px;
            }
            
            .airline-brand {
                font-size: 2.5rem;
            }
            
            .days-count {
                font-size: 2.5rem;
            }
            
            .days-photo-container {
                flex-direction: column;
                gap: 20px;
                align-items: center;
            }
            
            .time-container {
                max-width: 100%;
                padding: 12px 20px;
            }
            
            .damage-photo {
                width: 160px;
                height: 120px;
            }
            
            .linkedin-modal {
                padding: 15px !important;
            }
            
            .linkedin-modal > div {
                max-width: 95vw !important;
                padding: 20px !important;
            }
            
            .linkedin-modal textarea {
                height: 150px !important;
                font-size: 0.9rem !important;
            }
            
            .linkedin-modal button {
                width: 100% !important;
                margin-bottom: 10px;
            }
        }
        
        /* ========================================= */
        /* NAVIGATION STYLES */
        /* ========================================= */
        
        .nav-bar {
            background: white;
            border-bottom: 1px solid var(--border);
            padding: 10px 0;
        }
        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
        }
        
        .nav-container .logo {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--primary-red);
        }
        
        .nav-links {
            display: flex;
            gap: 30px;
        }
        
        .nav-links a {
            color: white;
            text-decoration: none;
            padding: 8px 16px;
            border-radius: 8px;
            background: var(--primary-red);
            font-weight: 600;
            transition: all 0.3s;
        }
        
        .nav-links a:hover {
            background: #c02833;
            transform: translateY(-1px);
        }
        color: #1d1d1f;
            line-height: 1.6;
            margin-bottom: 1rem;
        }
        
        .context-text strong {
            color: var(--primary-red);
            font-weight: 600;
        }
        
        .statement-cta {
            display: inline-block;
            background: var(--primary-red);
            color: white;
            padding: 16px 32px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            font-size: 1.1rem;
            margin-top: 2rem;
            transition: background 0.2s ease;
        }
        
        .statement-cta:hover {
            background: #c02833;
            transform: translateY(-1px);
        }

        /* ========================================= */
        /* STORY SECTION STYLES */
        /* ========================================= */
        
        .story-section {
            margin-bottom: var(--spacing-md);
        }
        
        .story-card {
            background: #fff;
            border-left: 5px solid #e74c3c;
            padding: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-radius: 10px;
        }
        
        .story-card h2 {
            color: #c0392b;
            font-size: 2rem;
            margin-bottom: 20px;
        }
        
        .story-card p {
            font-size: 1.1rem;
            color: #555;
            margin-bottom: 25px;
            line-height: 1.8;
        }
        
        .your-story {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 8px;
            margin-top: 30px;
        }
        
        .your-story h3 {
            color: #c0392b;
            font-size: 1.5rem;
            margin-bottom: 15px;
        }
        
        .cta-button {
            display: inline-block;
            background: #e74c3c;
            color: white;
            padding: 15px 30px;
            text-decoration: none;
            border-radius: 8px;
            font-weight: 600;
            font-size: 1.1rem;
            margin-top: 20px;
            transition: background 0.3s;
        }
        
        .cta-button:hover {
            background: #c0392b;
        }
        
        /* ========================================= */
        /* FORM SECTION & LAYOUT STYLES */
        /* ========================================= */
        
        .form-section,
        .share-section {
            width: 100%;
            box-sizing: border-box;
        }
        
        .upload-integrated {
            margin-top: 25px;
            padding-top: 25px;
        }
        
        .separator-light {
            border-top: 1px solid #f0f0f0;
            margin-bottom: 20px;
        }
        
        .upload-btn-clean {
            background: #f8f9fa;
            border: 1px solid #ddd;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s;
        }
        
        .upload-btn-clean:hover {
            background: #f0f0f0;
            border-color: var(--primary-red);
        }
        
        .upload-area {
            max-width: 100%;
            box-sizing: border-box;
            padding: 30px 20px;
            margin: 0 auto;
        }
        
        /* ========================================= */
        /* STORY SECTION - COMPACT STYLES */
        /* ========================================= */
        
        .story-section-compact {
            background: var(--surface);
            padding: 40px;
            border-radius: 16px;
            border: 1px solid var(--border);
            margin-bottom: 2rem;
            text-align: left;
        }
        
        .story-section-compact h2 {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            color: var(--text-primary);
        }
        
        .story-section-compact p {
            font-size: 1rem;
            color: var(--text-secondary);
            line-height: 1.6;
            margin-bottom: 1rem;
        }
        
        .claim-facts {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .fact-item {
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid var(--primary-red);
        }
        
        .fact-label {
            display: block;
            font-size: 0.85rem;
            color: #666;
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .fact-value {
            display: block;
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--text-dark);
        }
        
        .action-text {
            color: #555;
            margin-bottom: 20px;
            font-size: 1rem;
        }
        
        /* ========================================= */
        /* HERO & STATEMENT SECTION STYLES */
        /* ========================================= */
        
        .hero-simple {
            padding: 35px 20px;
            background: white;
            text-align: center;
        }
        
        .statement {
            max-width: 600px;
            margin: 0 auto;
        }
        
        .statement-line {
            font-size: 1.3rem;
            font-weight: 500;
            color: #1d1d1f;
            margin-bottom: 1rem;
            line-height: 1.3;
        }
        
        .separator {
            margin: 2rem 0;
            text-align: center;
            position: relative;
        }
        
        .separator::before {
            content: "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━";
            color: #e5e5e7;
            font-size: 0.8rem;
            letter-spacing: 0.1em;
        }
        
        .context {
            margin-bottom: 1.5rem;
        }
        
        .context-text {
            font-size: 1.1rem;
            color: #1d1d1f;
            line-height: 1.6;
            margin-bottom: 1rem;
        }
        
        .context-text strong {
            color: var(--primary-red);
            font-weight: 600;
        }
        
        .statement-cta {
            display: inline-block;
            background: var(--primary-red);
            color: white;
            padding: 16px 32px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            font-size: 1.1rem;
            margin-top: 2rem;
            transition: background 0.2s ease;
        }
        
        .statement-cta:hover {
            background: #c02833;
            transform: translateY(-1px);
        }
        
        /* ========================================= */
        /* UNIFIED CONTAINER STYLES */
        /* ========================================= */
        
        .unified-container {
            max-width: 800px;
            margin: 20px auto 40px auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            padding: 40px;
            text-align: center;
        }
        
        .story-part {
            padding-bottom: 30px;
        }
        
        .form-part {
            padding-top: 20px;
            border-top: 1px solid #f0f0f0;
        }
        
        .form-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 25px;
            align-items: start;
        }
        
        .form-item select,
        .form-item input {
            height: 48px;
            line-height: 1;
        }
        
        /* ========================================= */
        /* PRIVACY SECTION STYLES */
        /* ========================================= */
        
    .privacy-notice {
    max-width: 800px;
    margin: 25px auto;
    padding: 0 40px;
}

.privacy-context {
    background: #f8f9f9;
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    padding: 15px 20px;
    text-align: center;
    margin-top: 20px;
}

.privacy-benefits {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-bottom: 12px;
    flex-wrap: wrap;
}

.benefit-item {
    font-size: 0.85rem;
    color: #28a745;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 4px;
}

.privacy-policy-link {
    font-size: 0.9rem;
    color: #666;
    margin: 0;
}

.privacy-policy-link a {
    color: var(--primary-red);
    text-decoration: none;
    font-weight: 600;
}

.privacy-policy-link a:hover {
    text-decoration: underline;
}

/* New privacy consent checkbox styling */
.privacy-consent {
    margin: 20px 0;
    display: flex;
    align-items: flex-start;
    gap: 10px;
    background: #f8f9f9;
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    padding: 15px 20px;
    text-align: left;
}

.privacy-consent input[type="checkbox"] {
    margin-top: 4px;
    min-width: 20px;
    min-height: 20px;
}

.privacy-consent label {
    font-size: 0.9rem;
    line-height: 1.4;
    color: #666;
    font-weight: 500;
}

.privacy-consent a {
    color: var(--primary-red);
    text-decoration: none;
    font-weight: 600;
}

.privacy-consent a:hover {
    text-decoration: underline;
}

/* Mobile responsive adjustments */
@media (max-width: 768px) {
    .privacy-consent {
        padding: 12px 15px;
    }
    
    .privacy-consent input[type="checkbox"] {
        min-width: 24px;
        min-height: 24px;
    }
}
/* ========================================= */
/* AI-BUILT EXPLANATION STYLES */
/* ========================================= */

.ai-built-explanation {
    background: #f0f4f8;
    border-left: 4px solid #5c7cfa;
    padding: 15px 20px;
    margin: 25px 0;
    border-radius: 0 8px 8px 0;
}

.ai-built-icon {
    font-size: 24px;
    margin-bottom: 10px;
}

.ai-built-explanation h4 {
    font-size: 1.1rem;
    margin-bottom: 10px;
    color: #364fc7;
}

.ai-built-explanation p {
    font-size: 0.95rem;
    line-height: 1.5;
    margin-bottom: 15px;
    color: #4a5568;
}

.ai-built-note {
    font-size: 0.85rem;
    padding: 10px;
    background: rgba(255,255,255,0.7);
    border-radius: 6px;
    font-style: italic;
    color: #4a5568;
}

/* Mobile adjustments */
@media (max-width: 768px) {
    .ai-built-explanation {
        padding: 12px 15px;
        margin: 20px 0;
    }
    
    .ai-built-explanation h4 {
        font-size: 1rem;
    }
}
        
/* ========================================= */
/* CREATION STORY STYLES */
/* ========================================= */

.creation-story {
    background: linear-gradient(135deg, #f8f9fa, #e9ecef);
    border-radius: 16px;
    padding: 25px;
    margin: 30px 0;
    position: relative;
    overflow: hidden;
    box-shadow: 0 5px 15px rgba(0,0,0,0.05);
}

.creation-story h3 {
    font-size: 1.5rem;
    color: #333;
    margin-bottom: 20px;
    position: relative;
    z-index: 2;
    text-align: center;
}

.story-content {
    position: relative;
    z-index: 2;
}

.story-content p {
    margin-bottom: 15px;
    line-height: 1.6;
    color: #555;
}

.story-icon {
    font-size: 24px;
    margin-bottom: 15px;
    text-align: center;
}

.ai-developer-badge {
    display: inline-flex;
    align-items: center;
    padding: 8px 16px;
    background: white;
    border-radius: 30px;
    margin-top: 10px;
    box-shadow: 0 3px 10px rgba(0,0,0,0.1);
    gap: 8px;
    font-size: 0.9rem;
    color: #555;
}

.claude-logo {
    width: 18px;
    height: 18px;
}

.creation-story::before {
    content: '{ }';
    position: absolute;
    right: -20px;
    top: -30px;
    font-size: 150px;
    opacity: 0.05;
    font-family: monospace;
    transform: rotate(10deg);
}

/* Mobile responsiveness */
@media (max-width: 768px) {
    .creation-story {
        padding: 20px;
        margin: 20px 0;
    }
    
    .creation-story h3 {
        font-size: 1.3rem;
    }
    
    .ai-developer-badge {
        font-size: 0.8rem;
        padding: 6px 12px;
    }
}
        /* ========================================= */
        /* MOBILE ADJUSTMENTS */
        /* ========================================= */
        
        @media (max-width: 768px) {
            .privacy-notice {
                padding: 0 10px;
            }
            
            .privacy-benefits {
                flex-direction: column;
                gap: 8px;
            }
            
            .benefit-item {
                justify-content: center;
            }
        }
        /* ========================================= */
/* AI-POWERED BADGE STYLES */
/* ========================================= */

.ai-powered-badge {
    display: flex;
    align-items: center;
    gap: 8px;
    position: absolute;
    bottom: 12px;
    right: 12px;
    background: rgba(255,255,255,0.9);
    border-radius: 12px;
    padding: 6px 12px;
    font-size: 11px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    z-index: 10;
}

.badge-icon {
    font-size: 16px;
}

.badge-text {
    display: flex;
    flex-direction: column;
}

.badge-title {
    font-weight: 600;
    color: #333;
}

.badge-subtitle {
    font-size: 9px;
    color: #666;
}

.claim-card-impact .ai-powered-badge {
    background: rgba(0,0,0,0.7);
}

.claim-card-impact .badge-title {
    color: white;
}

.claim-card-impact .badge-subtitle {
    color: rgba(255,255,255,0.7);
}

.claim-card-context .ai-powered-badge {
    background: rgba(255,255,255,0.85);
}

/* Hover effect */
.ai-powered-badge:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    transition: all 0.3s ease;
}
        /* ========================================= */
        /* HEADER BAR - GREEN GRADIENT */
        /* ========================================= */
        
        .header-bar {
            background: linear-gradient(135deg, #30d158, #00d4aa);
            color: white;
            padding: 1.5rem;
            text-align: center;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(48, 209, 88, 0.2);
            margin-bottom: 20px;
            max-width: 100%;
        }
        
        .header-title {
            font-size: 2rem;
            font-weight: 800;
            color: white;
            margin-bottom: 0.5rem;
            letter-spacing: -0.02em;
        }
        
        .header-subtitle {
            font-size: 1rem;
            color: white;
            font-weight: 500;
            margin: 0;
            opacity: 0.95;
        }
        
        /* ========================================= */
        /* STORY CONTEXT STYLES */
        /* ========================================= */
        
        .story-context {
            text-align: center;
            padding: 0.75rem 1rem;
            background: #f8f9fa;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        .story-context p {
            font-size: 0.9rem;
            color: #666;
            font-weight: 500;
            margin: 0;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        
        /* ========================================= */
        /* MOBILE RESPONSIVE ADJUSTMENTS */
        /* ========================================= */
        
        @media (max-width: 768px) {
            .header-title {
                font-size: 1.75rem;
            }
            
            .header-bar {
                padding: 1rem 0;
            }
            
            .story-context {
                padding: 0.75rem 10px;
            }
        }
/* ========================================= */
/* CLEAN PROFESSIONAL CARD STYLES */
/* ========================================= */

.claim-card-minimalist {
    width: 100%;
    max-width: 600px;
    margin: 0 auto;
    background: white;
    border-radius: 16px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    overflow: hidden;
    padding: 30px;
    font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    color: #1e293b;
}

.claim-card-minimalist .card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 30px;
}

.claim-card-minimalist .airline-name {
    font-size: 30px;
    font-weight: 900;
    letter-spacing: -0.02em;
    color: #1e293b;
}

.claim-card-minimalist .time-icon {
    width: 48px;
    height: 48px;
    background: #dc2626;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    box-shadow: 0 4px 12px rgba(220, 38, 38, 0.3);
}

.claim-card-minimalist .days-count-container {
    text-align: center;
    margin-bottom: 30px;
}

.claim-card-minimalist .days-count {
    font-size: 76px;
    font-weight: 900;
    color: #dc2626;
    line-height: 1;
    margin-bottom: 5px;
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.03); }
    100% { transform: scale(1); }
}

.claim-card-minimalist .days-label {
    font-size: 18px;
    font-weight: 700;
    color: #475569;
    letter-spacing: 0.05em;
}

.claim-card-minimalist .evidence-photo {
    position: relative;
    border-radius: 12px;
    overflow: hidden;
    margin-bottom: 30px;
    background: #f8fafc;
    border: 1px solid #e2e8f0;
    min-height: 180px;
    display: flex;
    justify-content: center;
    align-items: center;
}

.claim-card-minimalist .evidence-photo img {
    width: 100%;
    height: auto;
    display: block;
}

.claim-card-minimalist .evidence-label {
    position: absolute;
    bottom: 10px;
    right: 10px;
    background: rgba(0,0,0,0.7);
    color: white;
    font-size: 12px;
    font-weight: 600;
    padding: 5px 10px;
    border-radius: 4px;
}

.claim-card-minimalist .photo-placeholder {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    color: #94a3b8;
}

.claim-card-minimalist .photo-placeholder-icon {
    font-size: 36px;
    margin-bottom: 8px;
}

.claim-card-minimalist .claim-details-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 15px;
    margin-bottom: 30px;
}

.claim-card-minimalist .detail-item {
    background: #fff1f1;
    padding: 15px;
    border-radius: 12px;
    text-align: center;
    border: 1px solid #ffe0e0;
}

.claim-card-minimalist .detail-label {
    font-size: 12px;
    color: #64748b;
    font-weight: 600;
    margin-bottom: 5px;
}

.claim-card-minimalist .detail-value {
    font-size: 20px;
    font-weight: 700;
    color: #1e293b;
}

.claim-card-minimalist .status-message {
    text-align: center;
    padding: 12px;
    background: #f8fafc;
    border-radius: 12px;
    border: 1px solid #e2e8f0;
    margin-bottom: 30px;
}

.claim-card-minimalist .status-message span {
    font-size: 16px;
    font-weight: 700;
    color: #dc2626;
}

.claim-card-minimalist .card-footer {
    text-align: center;
    padding-top: 20px;
    border-top: 1px solid #f1f5f9;
}

.claim-card-minimalist .hashtags {
    font-size: 16px;
    font-weight: 600;
    color: #2563eb;
}

/* Mobile Responsiveness */
@media (max-width: 768px) {
    .claim-card-minimalist {
        padding: 20px;
    }
    
    .claim-card-minimalist .airline-name {
        font-size: 24px;
    }
    
    .claim-card-minimalist .days-count {
        font-size: 60px;
    }
    
    .claim-card-minimalist .card-header {
        flex-direction: column;
        gap: 15px;
        text-align: center;
    }
}

        /* ========================================= */
/* CARD SELECTION TOGGLE STYLES */
/* ========================================= */

.card-selection-container {
    background: white;
    padding: 25px 30px;
    border-radius: 15px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    margin-bottom: 30px;
    text-align: center;
}

.card-selection-container h3 {
    font-size: 1.4rem;
    font-weight: 700;
    color: #1d3557;
    margin-bottom: 10px;
}

.card-selection-container p {
    color: #666;
    margin-bottom: 20px;
}

.card-toggle {
    display: flex;
    justify-content: center;
    gap: 15px;
}

.card-toggle-btn {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 10px 20px;
    border-radius: 30px;
    border: none;
    cursor: pointer;
    font-weight: 600;
    font-size: 1rem;
    transition: all 0.3s ease;
    background: #f8f9fa;
    color: #666;
}

.card-toggle-btn.active {
    background: #dc3545;
    color: white;
    box-shadow: 0 5px 15px rgba(220, 53, 69, 0.2);
}

.card-toggle-btn svg {
    stroke: currentColor;
}

@media (max-width: 768px) {
    .card-toggle {
        flex-direction: column;
        align-items: center;
    }
    
    .card-toggle-btn {
        width: 100%;
        justify-content: center;
    }
}

/* ========================================= */
/* MAXIMUM IMPACT CARD STYLES */
/* ========================================= */

.claim-card-impact {
    width: 100%;
    max-width: 600px;
    margin: 0 auto;
    background-image: linear-gradient(135deg, #dc2626, #991b1b);
    border-radius: 16px;
    box-shadow: 0 10px 40px rgba(220, 38, 38, 0.3);
    overflow: hidden;
    padding: 30px;
    font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    color: white;
    position: relative;
}


.claim-card-impact .card-content {
    position: relative;
    z-index: 2;
}

.claim-card-impact .card-header {
    text-align: center;
    margin-bottom: 25px;
}

.claim-card-impact .report-label {
    font-size: 14px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: #fde047;
    margin-bottom: 5px;
}

.claim-card-impact .airline-name {
    font-size: 32px;
    font-weight: 900;
    letter-spacing: -0.02em;
}

.claim-card-impact .evidence-photo {
    position: relative;
    border-radius: 12px;
    overflow: hidden;
    margin-bottom: 25px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    border: 2px solid #fde047;
    min-height: 180px;
}

.claim-card-impact .evidence-photo img {
    width: 100%;
    height: auto;
    display: block;
}

.claim-card-impact .photo-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: transparent;
    display: flex;
    align-items: center;
    justify-content: center;
}

.claim-card-impact .damage-label {
    background: rgba(0, 0, 0, 0.7);
    color: white;
    font-size: 14px;
    font-weight: 700;
    padding: 8px 16px;
    border-radius: 8px;
    letter-spacing: 0.5px;
    position: absolute;
    bottom: 10px;
    right: 10px;
}

.claim-card-impact .days-container {
    background: white;
    border-radius: 16px;
    padding: 20px;
    text-align: center;
    margin-bottom: 25px;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
}

.claim-card-impact .days-count {
    font-size: 80px;
    font-weight: 900;
    color: #dc2626;
    line-height: 1;
}

.claim-card-impact .days-label {
    font-size: 14px;
    font-weight: 700;
    color: #dc2626;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.claim-card-impact .details-band {
    background: rgba(0, 0, 0, 0.2);
    margin: 0 -30px 25px;
    padding: 20px 30px;
    display: flex;
    justify-content: space-around;
}

.claim-card-impact .detail-item {
    text-align: center;
}

.claim-card-impact .detail-label {
    font-size: 12px;
    color: rgba(255, 255, 255, 0.7);
    font-weight: 600;
    margin-bottom: 5px;
}

.claim-card-impact .detail-value {
    font-size: 20px;
    font-weight: 700;
    color: white;
}

.claim-card-impact .cta {
    background: white;
    color: #dc2626;
    text-align: center;
    padding: 15px;
    font-weight: 700;
    font-size: 16px;
    border-radius: 12px;
    margin-bottom: 25px;
}

.claim-card-impact .hashtags {
    text-align: center;
    font-size: 18px;
    font-weight: 700;
    color: #fde047;
}

/* Mobile Responsiveness */
@media (max-width: 768px) {
    .claim-card-impact {
        padding: 20px;
    }
    
    .claim-card-impact .watermark {
        font-size: 120px;
    }
    
    .claim-card-impact .days-count {
        font-size: 60px;
    }
    
    .claim-card-impact .details-band {
        margin: 0 -20px 20px;
        padding: 15px 20px;
    }
}
    /* ========================================= */
/* INDUSTRY CONTEXT SECTION STYLES */
/* ========================================= */

.industry-context {
    background: rgba(0, 0, 0, 0.05);
    border: 1px solid rgba(0, 0, 0, 0.1);
    border-radius: 10px;
    padding: 15px;
    margin: 20px 0;
    font-size: 0.85rem;
}

.industry-context-title {
    font-weight: 700;
    margin-bottom: 10px;
    color: #333;
    text-align: center;
    font-size: 0.9rem;
}

.industry-stats {
    display: flex;
    justify-content: space-between;
    flex-wrap: wrap;
    gap: 8px;
}

.stat-item {
    flex: 1;
    min-width: 100px;
    text-align: center;
    padding: 8px;
    background: white;
    border-radius: 8px;
}

.stat-value {
    font-weight: 700;
    font-size: 1.1rem;
    color: #dc3545;
}

.stat-label {
    font-size: 0.75rem;
    color: #666;
}

.data-source {
    font-size: 0.7rem;
    color: #777;
    text-align: center;
    margin-top: 8px;
    font-style: italic;
}

/* Styles for impact card version */
.claim-card-impact .industry-context {
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.claim-card-impact .industry-context-title {
    color: #fff;
}

.claim-card-impact .stat-item {
    background: rgba(0, 0, 0, 0.2);
}

.claim-card-impact .stat-value {
    color: #fde047;
}

.claim-card-impact .stat-label {
    color: rgba(255, 255, 255, 0.7);
}

.claim-card-impact .data-source {
    color: rgba(255, 255, 255, 0.6);
}   
/* Spacing adjustments for cards with industry context */
.claim-card-minimalist .status-message {
    margin-bottom: 15px;
}

.claim-card-minimalist .card-footer {
    margin-top: 15px;
}

.claim-card-impact .cta {
    margin-bottom: 15px;
}

.claim-card-impact .hashtags {
    margin-top: 15px;
}
    /* ========================================= */
/* INDUSTRY CONTEXT FOCUSED CARD STYLES */
/* ========================================= */

.claim-card-context {
    width: 100%;
    max-width: 600px;
    margin: 0 auto;
    background: linear-gradient(135deg, #f8f9fa, #e9ecef);
    border-radius: 16px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    overflow: hidden;
    padding: 30px;
    font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    color: #1e293b;
    position: relative;
}

.claim-card-context .context-header {
    text-align: center;
    margin-bottom: 25px;
}

.claim-card-context .airline-name {
    font-size: 32px;
    font-weight: 900;
    letter-spacing: -0.02em;
    color: #dc2626;
    margin-bottom: 15px;
}

.claim-card-context .claim-days {
    font-size: 24px;
    font-weight: 700;
    color: #1e293b;
}

.claim-card-context .waiting-label {
    font-weight: 600;
    color: #dc2626;
}

.claim-card-context .claim-details {
    display: flex;
    justify-content: space-between;
    background: white;
    border-radius: 12px;
    padding: 15px 20px;
    margin-bottom: 25px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.05);
}

.claim-card-context .claim-amount {
    font-size: 18px;
    font-weight: 700;
    color: #1e293b;
}

.claim-card-context .claim-date {
    font-size: 18px;
    font-weight: 500;
    color: #64748b;
}

.claim-card-context .industry-context-section {
    background: #dc2626;
    color: white;
    padding: 25px;
    border-radius: 12px;
    margin-bottom: 25px;
    box-shadow: 0 8px 20px rgba(220, 38, 38, 0.2);
}

.claim-card-context .context-title {
    font-size: 20px;
    font-weight: 800;
    text-align: center;
    margin-bottom: 20px;
    letter-spacing: 0.03em;
}

.claim-card-context .context-stats {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 15px;
    margin-bottom: 15px;
}

.claim-card-context .context-stat {
    background: rgba(255, 255, 255, 0.1);
    padding: 15px 10px;
    border-radius: 10px;
    text-align: center;
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.claim-card-context .context-stat-value {
    font-size: 24px;
    font-weight: 800;
    margin-bottom: 5px;
}

.claim-card-context .context-stat-label {
    font-size: 12px;
    opacity: 0.8;
    line-height: 1.3;
}

.claim-card-context .context-source {
    font-size: 12px;
    opacity: 0.6;
    text-align: center;
    font-style: italic;
}

.claim-card-context .evidence-photo {
    position: relative;
    min-height: 180px;
    border-radius: 12px;
    overflow: hidden;
    margin-bottom: 25px;
    background: #f1f5f9;
    display: flex;
    align-items: center;
    justify-content: center;
}

.claim-card-context .evidence-photo img {
    width: 100%;
    height: auto;
    object-fit: block;
}

.claim-card-context .photo-placeholder {
    color: #94a3b8;
    font-size: 14px;
}

.claim-card-context .card-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.claim-card-context .hashtags {
    font-size: 14px;
    font-weight: 600;
    color: #0284c7;
}

.claim-card-context .tool-credit {
    font-size: 12px;
    color: #64748b;
}

.claim-card-context .qr-container {
    position: absolute;
    bottom: 15px;
    right: 15px;
    width: 70px;
    height: 70px;
    background: white;
    border-radius: 8px;
    padding: 5px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

@media (max-width: 768px) {
    .claim-card-context {
        padding: 20px;
    }
    
    .claim-card-context .context-stats {
        grid-template-columns: 1fr;
    }
    
    .claim-card-context .claim-details {
        flex-direction: column;
        gap: 10px;
    }
}    
        /* Context line styling */
.claim-context {
    font-size: 14px;
    color: #888;
    margin-top: 5px;
    margin-bottom: 10px;
    font-weight: 500;
}

.claim-card-impact .claim-context {
    color: rgba(255, 255, 255, 0.8);
    font-size: 14px;
}

/* Tool credit consistent styling */
.tool-credit {
    font-size: 12px;
    color: #999;
    position: absolute;
    bottom: 15px;
    right: 15px;
}

.claim-card-minimalist .tool-credit {
    color: #999;
}

.claim-card-impact .tool-credit {
    color: rgba(255, 255, 255, 0.6);
}

/* Make card footers have consistent position */
.card-footer {
    position: relative;
    padding-bottom: 20px;
}

/* Update damage label */
.claim-card-impact .damage-label {
    background: rgba(0, 0, 0, 0.7);
    color: white;
    font-size: 14px;
    font-weight: 700;
    padding: 8px 16px;
    border-radius: 8px;
    letter-spacing: 0.5px;
}
        /* Add these styles to your CSS */
.emotional-anchor {
    margin: 30px auto;
    text-align: center;
    padding: 20px;
    max-width: 300px;
    position: relative;
}

.days-counter-large {
    font-size: 120px;
    font-weight: 900;
    color: #dc2626;
    line-height: 1;
    margin-bottom: 5px;
    animation: pulse-subtle 4s infinite;
    text-shadow: 0 2px 10px rgba(220, 38, 38, 0.15);
}

.days-label-large {
    font-size: 22px;
    font-weight: 700;
    color: #374151;
    letter-spacing: 0.05em;
    text-transform: uppercase;
}

.highlight-text {
    background: linear-gradient(to bottom, transparent 40%, rgba(220, 38, 38, 0.1) 40%, rgba(220, 38, 38, 0.1) 80%, transparent 80%);
    padding: 0 4px;
}

@keyframes pulse-subtle {
    0% { transform: scale(1); }
    50% { transform: scale(1.03); }
    100% { transform: scale(1); }
}
        /* Add these mobile-first styles to your existing CSS */

/* Improve form layout on mobile */
@media (max-width: 768px) {
    .form-grid {
        grid-template-columns: 1fr;
        gap: 15px;
    }
    
    .btn, .share-btn, .card-toggle-btn {
        width: 100%;
        min-height: 44px; /* iOS minimum touch target size */
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    /* Fix card designs for mobile */
    .claim-card-minimalist,
    .claim-card-impact,
    .claim-card-context {
        width: 100%;
        max-width: 100%;
        padding: 20px;
        height: auto;
        min-height: 600px;
    }
    
    /* Improve card toggle on mobile */
    .card-toggle {
        flex-direction: column;
    }
    
    .card-toggle-btn {
        width: 100%;
        justify-content: center;
    }
    
    /* Fix share grid on mobile */
    .share-grid {
        grid-template-columns: 1fr;
    }
}
        /* Mobile form optimization */
.upload-btn-clean.mobile-enhanced {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    max-width: 300px;
    margin: 0 auto;
    padding: 14px;
    border-radius: 10px;
    font-size: 1rem;
    gap: 8px;
    transition: all 0.2s ease;
}

.upload-btn-clean.mobile-enhanced:hover,
.upload-btn-clean.mobile-enhanced:active {
    background-color: #f0f0f0;
    border-color: var(--primary-red);
}

.btn-icon {
    font-size: 1.2rem;
}

@media (max-width: 768px) {
    /* Make all form inputs larger and more touch-friendly */
    input, select, .btn, .upload-btn-clean {
        height: 50px;
        font-size: 16px !important; /* Prevents iOS zoom on input focus */
    }
    
    .form-item {
        margin-bottom: 15px;
    }
    
    /* Optimize photo preview section */
    #photo-preview-section {
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    
    #photo-preview {
        max-width: 90%;
        max-height: 200px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.15);
    }
    
    .photo-controls {
        margin-top: 15px;
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 10px;
    }
    
    .photo-btn {
        min-height: 44px;
        min-width: 90px;
        padding: 10px 16px;
        display: flex;
        align-items: center;
        justify-content: center;
    }
}

        /* Mobile form optimization */
@media (max-width: 768px) {
    /* Make all form inputs larger and more touch-friendly */
    input, select, .btn, .upload-btn-clean {
        height: 50px;
        font-size: 16px !important; /* Prevents iOS zoom on input focus */
        -webkit-appearance: none; /* Removes default styling on iOS */
        appearance: none;
    }
    
    .form-item {
        margin-bottom: 15px;
    }
    
    /* Optimize photo preview section */
    #photo-preview-section {
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    
    #photo-preview {
        max-width: 90%;
        max-height: 200px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.15);
    }
    
    .photo-controls {
        margin-top: 15px;
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 10px;
    }
    
    .photo-btn {
        min-height: 44px;
        min-width: 90px;
        padding: 10px 16px;
        display: flex;
        align-items: center;
        justify-content: center;
    }
}

.upload-btn-clean {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    max-width: 300px;
    margin: 0 auto;
    padding: 14px;
    border-radius: 10px;
    font-size: 1rem;
    gap: 8px;
    transition: all 0.2s ease;
}

.upload-btn-clean:hover,
.upload-btn-clean:active {
    background-color: #f0f0f0;
    border-color: var(--primary-red);
}
/* Mobile share container styles */
.mobile-share-container {
    display: none;
}

@media (max-width: 768px) {
    .mobile-share-container {
        display: flex;
        flex-direction: column;
        gap: 15px;
        margin: 20px 0;
    }
    
    .mobile-share-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 12px;
        font-size: 1.1rem;
        font-weight: 600;
        padding: 16px;
        border-radius: 12px;
        border: none;
        width: 100%;
        min-height: 54px;
    }
    
    .mobile-share-btn.primary {
        background: var(--primary-red);
        color: white;
        box-shadow: 0 4px 10px rgba(220, 53, 69, 0.2);
    }
    
    .mobile-share-btn.secondary {
        background: #f8f9fa;
        color: #333;
        border: 1px solid #ddd;
    }
    
    /* Hide the regular share grid on mobile */
    .share-grid {
        display: none;
    }
}
  /* Mobile share container styles */
.mobile-share-container {
    display: none;
}

@media (max-width: 768px) {
    .mobile-share-container {
        display: flex;
        flex-direction: column;
        gap: 15px;
        margin: 20px 0;
    }
    
    .mobile-share-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 12px;
        font-size: 1.1rem;
        font-weight: 600;
        padding: 16px;
        border-radius: 12px;
        border: none;
        width: 100%;
        min-height: 54px;
    }
    
    .mobile-share-btn.primary {
        background: var(--primary-red);
        color: white;
        box-shadow: 0 4px 10px rgba(220, 53, 69, 0.2);
    }
    
    .mobile-share-btn.secondary {
        background: #f8f9fa;
        color: #333;
        border: 1px solid #ddd;
    }
    
    /* Optional: Hide desktop share grid on mobile */
    .share-grid {
        display: none;
    }
}  
/* Improved mobile share container */
@media (max-width: 768px) {
    .mobile-share-container {
        background: white;
        border-radius: 16px;
        padding: 20px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        margin: 20px 0;
    }
    
    .mobile-share-title {
        font-size: 1.2rem;
        font-weight: 700;
        color: #333;
        margin-top: 0;
        margin-bottom: 15px;
        text-align: center;
    }
    
    .mobile-share-primary {
        margin-bottom: 15px;
    }
    
    .mobile-share-options {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 10px;
    }
    
    .mobile-share-option {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 8px;
        background: #f8f9fa;
        border: 1px solid #eee;
        border-radius: 12px;
        padding: 15px 10px;
        font-size: 0.9rem;
        font-weight: 600;
        color: #333;
        transition: all 0.2s ease;
    }
    
    .mobile-share-option:hover, 
    .mobile-share-option:active {
        background: #f0f0f0;
        transform: translateY(-2px);
    }
    
    .mobile-share-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        width: 100%;
        padding: 16px;
        border-radius: 12px;
        font-size: 1.1rem;
        font-weight: 600;
        border: none;
        background: var(--primary-red);
        color: white;
        box-shadow: 0 4px 12px rgba(220, 53, 69, 0.2);
    }
}
     /* Add this to your CSS for better iOS handling */
@media screen and (max-width: 768px) {
    /* iOS-specific styles for better sharing */
    @supports (-webkit-touch-callout: none) {
        /* iOS devices only */
        .share-btn, .mobile-share-btn, .mobile-share-option {
            -webkit-appearance: none;
            -webkit-touch-callout: none;
            -webkit-tap-highlight-color: rgba(0,0,0,0);
            touch-action: manipulation;
        }
        
        /* Avoid zoom on input selection */
        input, select, textarea {
            font-size: 16px !important;
        }
        
        /* Fix iOS image rendering */
        .claim-card-impact,
        .claim-card-context,
        .claim-card-minimalist {
            -webkit-transform: translateZ(0);
            transform: translateZ(0);
        }
    }
}   
      
    </style>
</head>

<!-- ========================================= -->
<!-- HTML BODY STARTS HERE -->
<!-- ========================================= -->

<body>
    <!-- ========================================= -->
    <!-- MAIN CONTENT SECTION -->
    <!-- ========================================= -->
    
    <div class="content-section">
        <!-- ========================================= -->
        <!-- HERO SECTION WITH STORY & FORM -->
        <!-- ========================================= -->
        
        <section class="unified-container">
            <div class="integrated-header">
                <h1 class="site-title">SmartwingsWatch</h1>
                <p class="site-tagline">Making Claim Delays Visible</p>
                <div class="separator-line"></div>
            </div>
            
            <!-- Story Section -->
            <div class="story-part">
                <div class="emotional-anchor">
                    <div class="days-counter-large">620</div>
                    <div class="days-label-large">days of silence</div>
                </div>
                
                <div class="context">
                    <p class="context-text">
                        I filed a Smartwings <strong>luggage damage claim</strong> and expected a response. 
                        <span class="highlight-text">Instead, I've been met with <strong>complete silence</strong>.</span>
                    </p>
                    <p class="context-text">
                        You're not alone if you're experiencing the same. Together, we can make these patterns visible.
                    </p>
                </div>
            </div>
            
            <!-- ========================================= -->
            <!-- CLAIM FORM SECTION -->
            <!-- ========================================= -->
            
            <div class="form-part" id="create">
                <h2>📝 Document Your Experience</h2>
                <form id="claim-form">
                    <!-- Form Grid -->
                    <div class="form-grid">
                        <div class="form-item">
                            <label for="submission-month">Claim submission month</label>
                            <select id="submission-month" required>
                                <option value="">Select Month</option>
                                <option value="1">January</option>
                                <option value="2">February</option>
                                <option value="3">March</option>
                                <option value="4">April</option>
                                <option value="5">May</option>
                                <option value="6">June</option>
                                <option value="7">July</option>
                                <option value="8">August</option>
                                <option value="9">September</option>
                                <option value="10">October</option>
                                <option value="11">November</option>
                                <option value="12">December</option>
                            </select>
                        </div>
                        <div class="form-item">
                            <label for="submission-year">Year</label>
                            <select id="submission-year" required>
                                <option value="">Select Year</option>
                            </select>
                        </div>
                        <div class="form-item">
                            <label for="amount">Claim Amount (€)</label>
                            <input type="number" id="amount" required min="1" placeholder="e.g. 200">
                        </div>
                    </div>
                    
                    <!-- ========================================= -->
                    <!-- PHOTO UPLOAD SECTION -->
                    <!-- ========================================= -->
                    
                    <div class="upload-integrated">
                        <div class="separator-light"></div>
                        <p style="margin-bottom: 15px;">
                            <strong>📸 Evidence photo</strong> 
                            <span style="color: #888; font-size: 0.9rem;">(optional)</span>
                        </p>
                        <input type="file" id="photo-input" accept="image/*;capture=camera" style="display: none;">
                        
                        <button type="button" onclick="document.getElementById('photo-input').click()" class="upload-btn-clean mobile-enhanced">
                            <span class="btn-icon">📷</span>
                            <span class="btn-text">Take or Choose Photo</span>
                        </button>
                        
                        <!-- Photo Preview Section -->
                        <div id="photo-preview-section" style="margin-top: 15px; display: none;">
                            <img id="photo-preview" style="max-width: 200px; max-height: 150px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                            <div class="photo-controls" style="margin-top: 10px;">
                                <button class="photo-btn" onclick="rotatePhoto()">🔄 Rotate</button>
                                <button class="photo-btn" onclick="adjustPhoto()">🎨 Brighten</button>
                                <button class="photo-btn remove" onclick="removePhoto()">❌ Remove</button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Error Message Container -->
                    <div id="error-message" class="error-message"></div>

                    <!-- Add this before your submit button -->
                    
                   <div class="privacy-consent">
                        <input type="checkbox" id="privacy-consent" required>
                        <label for="privacy-consent">
                            I understand that my claim details (month/year, amount, waiting days) 
                            will be used to generate a shareable card. No personal information is collected or stored.
                            <a href="/privacy-policy.html" target="_blank">Privacy Policy</a>
                        </label>
                    </div>
                    
                    <!-- Submit Button -->
                    <button type="submit" class="btn">🚀 Create Your Experience Card</button>
                    <!-- AI-Built Explanation -->
<div class="ai-built-explanation">
    <div class="ai-built-icon">🧩</div>
    <h4>This tool was built without writing a single line of code</h4>
    <p>As a frustrated passenger with no programming background, I described what I wanted to Claude.ai, and it generated all the necessary code, which I then implemented. This is how accessible technology creation has become.</p>
    <div class="ai-built-note">Similar to how you don't need legal expertise to document your experience with this tool, I didn't need coding expertise to build it.</div>
</div>
                    
                    <!-- ========================================= -->
                    <!-- PRIVACY NOTICE SECTION -->
                    <!-- ========================================= -->
                    
                    <div class="privacy-notice">
                        <div class="privacy-context">
                            <div class="privacy-benefits">
                                <span class="benefit-item">🔒 Processed locally</span>
                                <span class="benefit-item">🚫 No data stored</span>
                                <span class="benefit-item">✨ You control sharing</span>
                            </div>
                            <p class="privacy-policy-link">
                                <a href="privacy.html">Privacy Policy</a> - Your data never leaves your device
                            </p>
                        </div>
                    </div>
                </form>
            </div>
        </section>
<!-- ========================================= -->
<!-- CREATION STORY SECTION -->
<!-- ========================================= -->

<div class="creation-story" id="creation-story">
    <h3>The Story Behind This Tool</h3>
    <div class="story-content">
        <div class="story-icon">🤖➡️🧰</div>
        <p>
            <strong>Built without coding skills:</strong> I'm not a developer. I created this entire tool by collaborating with Claude.ai, explaining my frustrations and vision as a customer would to a design studio.
        </p>
        <p>
            <strong>AI-powered development:</strong> Every line of code, every design element, and every function was generated through conversation with Claude.ai. This represents how AI is democratizing technology creation for everyday people seeking solutions.
        </p>
        <p>
            <strong>From frustration to innovation:</strong> After 620+ days of being ignored by Smartwings, I turned to AI to create something that could help others document similar experiences. If I could build this without coding skills, imagine what you could create.
        </p>
        <div class="ai-developer-badge">
            <span>Developed in conversation with</span>
            <img src="https://claude.ai/favicon.ico" alt="Claude.ai logo" class="claude-logo">
            <span>Claude.ai</span>
        </div>
    </div>
</div>
<!-- ========================================= -->
<!-- CARD DESIGN SELECTOR -->
<!-- ========================================= -->

<div class="card-selection-container" id="card-selection-container" style="display: none;">
    <h3>Choose Which Design to Share</h3>
    <p>Select style that best represents your experience</p>
    
    <div class="card-toggle">
        <button class="card-toggle-btn active" data-design="minimalist">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2"/><path d="M8 12h8"/><path d="M12 8v8"/></svg>
            Professional
        </button>
        <button class="card-toggle-btn" data-design="impact">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"></path><path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"></path><path d="M4 22h16"></path><path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"></path><path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"></path><path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"></path></svg>
            Maximum Impact
        </button>
        <button class="card-toggle-btn" data-design="context">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 3v18h18"/><path d="M7 17l4-4 4 4 6-6"/></svg>
            Industry Data
        </button>
    </div>
</div>
        
        <!-- ========================================= -->
        <!-- GENERATED CLAIM CARD SECTION -->
        <!-- ========================================= -->
        
<div id="card-section" style="display: none;">
    
    <!-- Professional Design -->
    <div class="claim-card-minimalist" id="minimalist-card">
        <!-- Keep your existing clean professional card HTML here -->
        <!-- Card Header -->
        <div class="card-header">
            <div class="airline-name">SMARTWINGS</div>
            <div class="time-icon">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" width="24" height="24">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                </svg>
            </div>
        </div>
        
        <!-- Days Count -->
        <div class="days-count-container">
            <div class="days-count" id="days-count">0</div>
            <div class="days-label">DAYS WITHOUT RESPONSE</div>
        </div>
        
        <!-- Damage Evidence Photo -->
        <div class="evidence-photo">
            <div id="card-photo-container" style="display: none;">
                <img id="card-photo" alt="Damaged luggage evidence">
                <div class="evidence-label">EVIDENCE OF DAMAGE</div>
            </div>
            <div class="photo-placeholder" id="photo-placeholder">
                <div class="photo-placeholder-icon">📷</div>
                <div>Evidence Photo</div>
            </div>
        </div>
        
        <!-- Claim Details Grid -->
        <div class="claim-details-grid">
            <div class="detail-item">
                <div class="detail-label">CLAIM AMOUNT</div>
                <div class="detail-value" id="amount-value">€0</div>
            </div>
            <div class="detail-item">
                <div class="detail-label">FILED</div>
                <div class="detail-value" id="submission-date">-</div>
            </div>
        </div>
        
        <!-- Status Message -->
        <div class="status-message">
            <span>Complete Silence From Airline</span>
        </div>

        <!-- Industry Context Section -->
<div class="industry-context">
    <div class="industry-context-title">INDUSTRY CONTEXT</div>
    <div class="industry-stats">
        <div class="stat-item">
            <div class="stat-value">11,620</div>
            <div class="stat-label">damaged bags annually</div>
        </div>
        <div class="stat-item">
            <div class="stat-value">€1.16M</div>
            <div class="stat-label">in potential claims</div>
        </div>
        <div class="stat-item">
            <div class="stat-value">?</div>
            <div class="stat-label">others waiting?</div>
        </div>
    </div>
    <div class="data-source">Based on SITA 2024 data (1.4 damaged bags per 1,000 passengers)</div>
</div>
        
        <!-- Card Footer -->
        <div class="card-footer">
            <div class="hashtags">#SmartwingsWatch #PassengerRights</div>
            <div class="ai-powered-badge">
                <div class="badge-icon">🤖</div>
                <div class="badge-text">
                    <div class="badge-title">AI-Created Tool</div>
                    <div class="badge-subtitle">Built by a passenger with Claude.ai</div>
                </div>
            </div>
            </div>
        </div>
    
    <!-- Maximum Impact Design -->
    <div class="claim-card-impact" id="impact-card" style="display: none;">
       
        
        <!-- Card Content -->
        <div class="card-content">
            <!-- Header -->
            <div class="card-header">
                <div class="report-label">PASSENGER CLAIM IGNORED</div>
                <div class="airline-name">SMARTWINGS</div>
            </div>
            
            <!-- Damage Evidence Photo -->
            <div class="evidence-photo">
                <div id="impact-photo-container" style="display: none;">
                    <img id="impact-photo" alt="Damaged luggage evidence">
                </div>
                <div class="photo-overlay">
                    <div class="damage-label">EVIDENCE OF DAMAGE</div>
                </div>
            </div>
            
            <!-- Days Count -->
            <div class="days-container">
                <div class="days-count" id="impact-days-count">0</div>
                <div class="days-label">Days Without Response</div>
            </div>
            
            <!-- Claim Details Band -->
            <div class="details-band">
                <div class="detail-item">
                    <div class="detail-label">CLAIM FILED</div>
                    <div class="detail-value" id="impact-submission-date">-</div>
                </div>
                <div class="detail-item">
                    <div class="detail-label">AMOUNT</div>
                    <div class="detail-value" id="impact-amount-value">€0</div>
                </div>
            </div>
            
            <!-- Call to Action -->
            <div class="cta">HAVE THEY IGNORED YOUR CLAIM TOO?</div>
            
<!-- Industry Context Section -->
<div class="industry-context">
    <div class="industry-context-title">YOU ARE NOT ALONE</div>
    <div class="industry-stats">
        <div class="stat-item">
            <div class="stat-value">11,620</div>
            <div class="stat-label">damaged bags yearly</div>
        </div>
        <div class="stat-item">
            <div class="stat-value">€1.16M</div>
            <div class="stat-label">potential claims</div>
        </div>
        <div class="stat-item">
            <div class="stat-value">?</div>
            <div class="stat-label">how many waiting?</div>
        </div>
    </div>
    <div class="data-source">Source: SITA 2024 Baggage IT Insights</div>
</div>
            
            <!-- Hashtags -->
            <div class="hashtags">#SmartwingsWatch #PassengerRights</div>
            <div class="ai-powered-badge">
                <div class="badge-icon">🤖</div>
                <div class="badge-text">
                    <div class="badge-title">AI-Created Tool</div>
                <div class="badge-subtitle">Built by a passenger with Claude.ai</div>
                </div>
            </div>
            
        </div>
    </div>
</div>
    </div>

    <!-- Industry Context Focused Card -->
    <div class="claim-card-context" id="context-card" style="display: none;">
        <div class="context-header">
            <div class="airline-name">SMARTWINGS</div>
            <div class="claim-days">
                <span id="context-days-count">0</span> DAYS
                <span class="waiting-label">WITHOUT RESPONSE</span>
            </div>
        </div>
        
        <div class="claim-details">
            <div class="claim-amount">
                My Claim: €<span id="context-amount-value">0</span>
            </div>
            <div class="claim-date">
                Filed: <span id="context-submission-date">-</span>
            </div>
        </div>
        
 
        
        <div class="evidence-photo">
            <div id="context-photo-container" style="display: none; width: 100%; height: 100%;">
                <img id="context-photo" alt="Damaged luggage evidence">
            </div>
            <div class="photo-placeholder" id="context-photo-placeholder">
                📷 Evidence Photo
            </div>
        </div>

               <div class="industry-context-section">
            <h2 class="context-title">YOU ARE NOT ALONE</h2>
            <div class="context-stats">
                <div class="context-stat">
                    <div class="context-stat-value">11,620</div>
                    <div class="context-stat-label">damaged bags annually</div>
                </div>
                <div class="context-stat">
                    <div class="context-stat-value">€1.16M</div>
                    <div class="context-stat-label">in potential claims</div>
                </div>
                <div class="context-stat">
                    <div class="context-stat-value">?</div>
                    <div class="context-stat-label">how many others waiting?</div>
                </div>
            </div>
            <div class="context-source">Based on SITA 2024 data (1.4 damaged bags per 1,000 passengers)</div>
        </div>
        
        <div class="card-footer">
            <div class="hashtags">#SmartwingsWatch #PassengerRights</div>
            <div class="ai-powered-badge">
    <div class="badge-icon">🤖</div>
    <div class="badge-text">
        <div class="badge-title">AI-Created Tool</div>
        <div class="badge-subtitle">Built by a passenger with Claude.ai</div>
    </div>
</div>
            
        </div>
    </div>
</div>
    
</div>
        
        <!-- ========================================= -->
        <!-- SHARE SECTION -->
        <!-- ========================================= -->
        
        <div class="share-section" id="share-section" style="display: none;">
            <h2>📢 Share Your Experience & This AI-Built Tool</h2>
            <p class="share-subtitle">This tool was created by a passenger like you, using AI to build technology without coding skills</p>
            <div class="platform-tips">
    <div class="tip-item">
        <span class="tip-icon">🐦</span>
        <span class="tip-text">Twitter/X: Reaches aviation journalists & consumer advocates</span>
    </div>
    <div class="tip-item">
        <span class="tip-icon">💼</span>
        <span class="tip-text">LinkedIn: Impacts business professionals & shows AI innovation</span>
    </div>
    <div class="tip-item">
        <span class="tip-icon">📘</span>
        <span class="tip-text">Facebook: Best for reaching travel communities & support groups</span>
    </div>
</div>
            <p style="color: #666;">Help others understand Smartwings' response times by sharing your experience</p>
            

            <!-- Add this after your existing share-grid div -->
<div class="mobile-share-container">
    <button class="mobile-share-btn primary" id="native-share-btn">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="18" cy="5" r="3"></circle>
            <circle cx="6" cy="12" r="3"></circle>
            <circle cx="18" cy="19" r="3"></circle>
            <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
            <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
        </svg>
        Share Via App
    </button>
    <button class="mobile-share-btn secondary" id="save-photo-btn">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
            <polyline points="7 10 12 15 17 10"></polyline>
            <line x1="12" y1="15" x2="12" y2="3"></line>
        </svg>
        Save to Photos
    </button>
</div>

  <div class="share-grid">
    <button class="share-btn twitter" onclick="shareToTwitter()">
        <span>🐦</span> Share on Twitter/X
    </button>
    <button class="share-btn facebook" onclick="shareToFacebook()">
        <span>📘</span> Post on Facebook
    </button>
    <button class="share-btn linkedin" onclick="shareToLinkedIn()">
        <span>💼</span> Post on LinkedIn
    </button>
    <button class="share-btn whatsapp" onclick="shareToWhatsApp()">
        <span>💬</span> Share Your Story
    </button>
    <button class="share-btn download" onclick="downloadCard()">
        <span>📸</span> Get Your Card
    </button>
    <button class="share-btn copy" onclick="copyImageToClipboard()">
        <span>📋</span> Copy Image
    </button>
</div>

<!-- Mobile-optimized share container -->
<div class="mobile-share-container">
    <h3 class="mobile-share-title">Share Your Card</h3>
    
    <div class="mobile-share-primary">
        <button class="mobile-share-btn primary" id="native-share-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="18" cy="5" r="3"></circle>
                <circle cx="6" cy="12" r="3"></circle>
                <circle cx="18" cy="19" r="3"></circle>
                <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
                <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
            </svg>
            Share via App
        </button>
    </div>
    
    <div class="mobile-share-options">
        <button class="mobile-share-option" id="mobile-linkedin-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="#0077b5">
                <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path>
                <rect x="2" y="9" width="4" height="12"></rect>
                <circle cx="4" cy="4" r="2"></circle>
            </svg>
            LinkedIn
        </button>
        
        <button class="mobile-share-option" id="mobile-twitter-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="#1DA1F2">
                <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path>
            </svg>
            Twitter/X
        </button>
        
        <button class="mobile-share-option" id="mobile-facebook-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="#1877F2">
                <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>
            </svg>
            Facebook
        </button>
        
        <button class="mobile-share-option" id="mobile-save-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="#28a745">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                <polyline points="7 10 12 15 17 10"></polyline>
                <line x1="12" y1="15" x2="12" y2="3"></line>
            </svg>
            Save Image
        </button>
    </div>
</div>
            
            <!-- Help Text -->
            <div class="help-text" style="margin-top: 25px; background: #f8f9fa; padding: 20px; border-radius: 10px; text-align: center;">
                <p style="margin: 0; color: #555; font-size: 0.95rem;">
                    <strong>💡 Pro tip:</strong> Click "Get Your Card" to download the image. 
                    Then share it anywhere - Instagram stories, LinkedIn, emails, forums.
                </p>
            </div>
            
            <!-- Success Message -->
            <div class="success-message" id="success-message"></div>
            
            <!-- Share Message Display -->
            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-top: 20px; font-family: monospace; font-size: 0.9rem; line-height: 1.5;" id="share-message"></div>
        </div>
    </div>
    
    <!-- Closing content-section -->
</div>

<!-- ========================================= -->
<!-- JAVASCRIPT LIBRARIES -->
<!-- ========================================= -->

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

<!-- ========================================= -->
<!-- MAIN JAVASCRIPT CODE -->
<!-- ========================================= -->

<script>
    
    // ========================================
    // GLOBAL VARIABLES
    // ========================================
    
    let currentCardDesign = 'impact';
    let currentPhoto = null;
    let currentRotation = 0;
    let currentBrightness = 100;
    let claimData = {};
    
    
    
    // ========================================
    // PAGE INITIALIZATION
    // ========================================
    
    // Initialize the page when DOM loads
    document.addEventListener('DOMContentLoaded', function() {
    console.log('DOM loaded, initializing...');
    initializeYears();
    setupEventListeners();
    fixMonthInputIssue(); // Add this line
    enhanceMobileForm(); // Add this line
    setupMobileShare(); // Add this line
});
    
    
    // ========================================
    // FORM SETUP FUNCTIONS
    // ========================================
    
    /**
     * Initialize year dropdown with current and previous years
     */
    function initializeYears() {
        const yearSelect = document.getElementById('submission-year');
        const currentYear = new Date().getFullYear();
        
        for (let year = currentYear; year >= currentYear - 5; year--) {
            const option = document.createElement('option');
            option.value = year;
            option.textContent = year;
            yearSelect.appendChild(option);
        }
    }
// Add this function after initializeYears()
function fixMonthInputIssue() {
    console.log("Fixing month input...");
    
    // Debug the month select
    const monthSelect = document.getElementById('submission-month');
    if (!monthSelect) {
        console.error("Month select element not found!");
        return;
    }
    
    console.log("Month options:", monthSelect.options.length);
    
    // Check if month selection is working
    monthSelect.addEventListener('change', function() {
        console.log("Month changed to:", this.value);
    });
    
    // Force a reselection
    const currentValue = monthSelect.value;
    monthSelect.value = "";
    setTimeout(() => {
        monthSelect.value = currentValue || "1";
        console.log("Reset month to:", monthSelect.value);
    }, 100);
}
    
/**
 * FIXED: Set up event listeners with proper photo handling
 */
function setupEventListeners() {
    console.log("Setting up event listeners...");
    
    // Form submission handler
    const form = document.getElementById('claim-form');
    if (form) {
        form.addEventListener('submit', handleFormSubmit);
        console.log("Form submit listener added");
    }
    
    // Photo upload setup - FIXED
    const photoInput = document.getElementById('photo-input');
    if (photoInput) {
        photoInput.addEventListener('change', function(e) {
            console.log("Photo input changed, files:", e.target.files.length);
            if (e.target.files.length > 0) {
                processFile(e.target.files[0]);
            }
        });
        console.log("Photo input listener added");
    }
    
    // Download button
    const downloadBtn = document.querySelector('.share-btn.download');
    if (downloadBtn) {
        downloadBtn.addEventListener('click', downloadCard);
        console.log("Download button listener added");
    }
    
    // Copy button
    const copyBtn = document.querySelector('.share-btn.copy');
    if (copyBtn) {
        copyBtn.addEventListener('click', copyImageToClipboard);
        console.log("Copy button listener added");
    }
    
    console.log("Event listeners setup complete");
}

    
    // ========================================
    // ERROR HANDLING FUNCTIONS
    // ========================================
    
    /**
     * Display error message to user
     */
    function showError(message) {
        const errorEl = document.getElementById('error-message');
        errorEl.textContent = message;
        errorEl.classList.add('show');
        
        setTimeout(() => {
            errorEl.classList.remove('show');
        }, 5000);
    }
    
    // ========================================
    // FORM SUBMISSION & VALIDATION
    // ========================================
    
 /**
 * FIXED: Handle form submission and validation - GENERATES CARDS LOCALLY
 */
/**
 * UPDATED: Handle form submission - Generate enhanced share URLs
 */
function handleFormSubmit(e) {
    e.preventDefault();
    console.log('Form submitted for enhanced share URL generation');
    
    try {
        // Get form values
        const monthElement = document.getElementById('submission-month');
        const yearElement = document.getElementById('submission-year');
        const amountElement = document.getElementById('amount');
        const privacyConsent = document.getElementById('privacy-consent');
        
        if (!monthElement || !yearElement || !amountElement) {
            console.error("Form elements not found!");
            showError('Error: Form elements not found. Please refresh the page.');
            return;
        }
        
        // Check privacy consent
        if (privacyConsent && !privacyConsent.checked) {
            showError('Please agree to the privacy terms to continue');
            return;
        }
        
        const month = monthElement.value;
        const year = yearElement.value;
        const amount = amountElement.value;
        
        if (!month || !year || !amount) {
            showError('Please fill in all fields to document your experience');
            return;
        }
        
        // Convert and validate
        const monthNum = parseInt(month, 10);
        const yearNum = parseInt(year, 10);
        const amountNum = parseInt(amount, 10);
        
        if (isNaN(monthNum) || isNaN(yearNum) || isNaN(amountNum)) {
            showError('Please enter valid numbers for month, year, and amount');
            return;
        }
        
        const days = calculateDaysSince(monthNum, yearNum);
        
        // Calculate submission date for display
        const months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
        const submissionDate = `${months[monthNum - 1]} ${yearNum}`;
        
        // Store data globally
        claimData = {
            days: days,
            amount: amountNum,
            month: monthNum,
            year: yearNum,
            submissionDate: submissionDate
        };
        
        console.log("Claim data stored:", claimData);
        
        // Store photo if available
        if (currentPhoto) {
            claimData.photo = currentPhoto;
            claimData.photoRotation = currentRotation;
            claimData.photoBrightness = currentBrightness;
        }
        
        // Generate enhanced share URL
        const shareUrl = generateEnhancedShareURL(claimData);
        console.log("Generated enhanced share URL:", shareUrl);
        
        // Show success message
        const successEl = document.getElementById('success-message');
        if (successEl) {
            successEl.innerHTML = `
                ✅ Your shareable experience page is being created...<br>
                <strong>URL:</strong> <code>${shareUrl}</code>
            `;
            successEl.classList.add('show');
        }
        
        // Store data for the share page
        storeShareData(claimData);
        
        // Redirect to the enhanced share URL after a short delay
        setTimeout(() => {
            console.log("Redirecting to enhanced share URL:", shareUrl);
            window.location.href = shareUrl;
        }, 2000);
        
    } catch (error) {
        console.error('Form error:', error);
        showError('Error creating your experience page. Please try again.');
    }
}
    
/**
 * Generate enhanced share URL with clean structure
 */
function generateEnhancedShareURL(data) {
    const baseUrl = window.location.origin;
    const days = data.days;
    
    // Create clean, SEO-friendly URL
    const shareUrl = `${baseUrl}/passenger-experience/${days}-days-waiting`;
    
    return shareUrl;
}
/**
 * Store share data for the share page (using URL parameters as fallback)
 */
function storeShareData(data) {
    // Create URL with parameters for the serverless function
    const params = new URLSearchParams({
        days: data.days,
        amount: data.amount,
        month: data.month,
        year: data.year,
        submissionDate: data.submissionDate
    });
    
    // If photo exists, we'll need to handle it differently
    if (data.photo) {
        // For now, we'll pass a flag that photo exists
        params.set('hasPhoto', 'true');
        params.set('photoRotation', data.photoRotation || 0);
        params.set('photoBrightness', data.photoBrightness || 100);
    }
    
    // Store in sessionStorage as backup
    try {
        sessionStorage.setItem('shareData', JSON.stringify(data));
    } catch (e) {
        console.warn('Could not store in sessionStorage:', e);
    }
    
    return params.toString();
}
    
 /**
 * Enhanced social sharing messages for new URL structure
 */
function generateEnhancedSocialMessages(data) {
    const shareUrl = generateEnhancedShareURL(data);
    
    return {
        linkedin: generateLinkedInMessage(data, shareUrl),
        twitter: generateTwitterMessage(data, shareUrl),
        facebook: generateFacebookMessage(data, shareUrl),
        whatsapp: generateWhatsAppMessage(data, shareUrl)
    };
}   
    

    /**
     * Calculate days between submission date and today
     */
    function calculateDaysSince(month, year) {
    console.log(`Calculating days since month=${month}, year=${year}`);
    
    // Create submission date (first day of the month)
    const submissionDate = new Date(year, month - 1, 1);
    console.log("Submission date object:", submissionDate);
    
    // Get current date
    const today = new Date();
    console.log("Today's date:", today);
    
    // Calculate time difference in milliseconds
    const diffTime = Math.abs(today - submissionDate);
    console.log("Time difference (ms):", diffTime);
    
    // Convert to days and round up
    const days = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
    console.log("Calculated days:", days);
    
    return days;
}
    
    // ========================================
    // CARD UPDATE & DISPLAY FUNCTIONS
    // ========================================
    
/**
 * Update card with claim data
 */
function updateCard() {
    // Update both card designs
    updateBothCards();
    
    // Generate message for sharing
    const message = generateCampaignMessage();
    document.getElementById('share-message').textContent = message;
}
    
/**
 * FIXED: Show the generated card and share section
 */
function showCard() {
    console.log("Showing card section...");
    
    // Show card selection toggle
    const cardSelectionContainer = document.getElementById('card-selection-container');
    if (cardSelectionContainer) {
        cardSelectionContainer.style.display = 'block';
    }
    
    // Show card section and share options
    const cardSection = document.getElementById('card-section');
    const shareSection = document.getElementById('share-section');
    
    if (cardSection) {
        cardSection.style.display = 'block';
        console.log("Card section displayed");
    }
    
    if (shareSection) {
        shareSection.style.display = 'block';
        console.log("Share section displayed");
    }
    
    // Initialize photo display
    if (currentPhoto) {
        console.log("Updating card photos...");
        updateAllCardPhotos();
    } else {
        console.log("No photo to display, showing placeholders");
        resetAllCardPhotos();
    }
    
    // Set up card toggle functionality and show correct design
    setupCardToggle();
    
    // Ensure the impact card is visible by default
    const impactCard = document.getElementById('impact-card');
    const contextCard = document.getElementById('context-card');
    const minimalistCard = document.getElementById('minimalist-card');
    
    if (impactCard) {
        impactCard.style.display = 'block';
        console.log("Impact card displayed");
    }
    if (contextCard) {
        contextCard.style.display = 'none';
    }
    if (minimalistCard) {
        minimalistCard.style.display = 'none';
    }
    
    // Set current design
    currentCardDesign = 'impact';
    
    // Scroll to section
    if (cardSelectionContainer) {
        setTimeout(() => {
            cardSelectionContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }, 100);
    }
    
    console.log("Card display setup complete");
}
    
/**
 * COMPLETELY FIXED: Copy image with working clipboard
 */
async function copyImageToClipboard() {
    const btn = document.querySelector('.share-btn.copy');
    if (btn) {
        btn.disabled = true;
        btn.style.opacity = '0.7';
        btn.innerHTML = '<span>⏳</span> Copying...';
    }
    
    try {
        console.log('Starting copy to clipboard...');
        
        if (!claimData || !claimData.days) {
            throw new Error("Please create a card first");
        }
        
        // Find the visible card
        let cardElement = null;
        const impactCard = document.getElementById('impact-card');
        const contextCard = document.getElementById('context-card');
        
        if (impactCard && impactCard.style.display !== 'none') {
            cardElement = impactCard;
        } else if (contextCard && contextCard.style.display !== 'none') {
            cardElement = contextCard;
        } else {
            cardElement = impactCard;
            if (cardElement) cardElement.style.display = 'block';
        }
        
        if (!cardElement) {
            throw new Error("No card found to copy");
        }
        
        console.log('Generating high-quality image for clipboard...');
        
        // Generate high-quality canvas
        const canvas = await html2canvas(cardElement, {
            scale: 3, // Even higher quality for clipboard
            backgroundColor: null,
            useCORS: true,
            allowTaint: true,
            logging: false
        });
        
        console.log('Canvas for clipboard created:', canvas.width, 'x', canvas.height);
        
        // Convert to blob
        const blob = await new Promise((resolve, reject) => {
            canvas.toBlob((blob) => {
                if (blob && blob.size > 1000) {
                    resolve(blob);
                } else {
                    reject(new Error("Failed to create clipboard image"));
                }
            }, 'image/png', 1.0);
        });
        
        console.log('Clipboard blob created, size:', blob.size);
        
        // Try modern clipboard API
        if (navigator.clipboard && navigator.clipboard.write) {
            try {
                await navigator.clipboard.write([
                    new ClipboardItem({
                        'image/png': blob
                    })
                ]);
                showSuccess('✅ High-quality image copied to clipboard! You can now paste it anywhere.');
                return;
            } catch (clipboardError) {
                console.log('Modern clipboard API failed:', clipboardError);
            }
        }
        
        // Fallback: Show high-quality image for manual copying
        const imageUrl = URL.createObjectURL(blob);
        
        const overlay = document.createElement('div');
        overlay.style.cssText = `
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            z-index: 10000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
        `;
        
        const img = document.createElement('img');
        img.src = imageUrl;
        img.style.cssText = `
            max-width: 90%;
            max-height: 70%;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        `;
        
        const instructions = document.createElement('div');
        instructions.style.cssText = `
            color: white;
            text-align: center;
            margin-top: 20px;
            padding: 20px;
            background: rgba(0,0,0,0.8);
            border-radius: 10px;
            max-width: 400px;
        `;
        
        const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        
        instructions.innerHTML = `
            <h3 style="margin-top: 0; color: white;">Copy High-Quality Image</h3>
            <p style="margin: 10px 0; color: white;">
                ${isMobile 
                    ? 'Long-press on the image and select "Copy" or "Save to Photos"' 
                    : 'Right-click on the image and select "Copy Image"'}
            </p>
            <button id="close-overlay" style="
                background: #dc2626;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                margin-top: 10px;
            ">Close</button>
        `;
        
        overlay.appendChild(img);
        overlay.appendChild(instructions);
        document.body.appendChild(overlay);
        
        const closeBtn = document.getElementById('close-overlay');
        const closeOverlay = () => {
            document.body.removeChild(overlay);
            URL.revokeObjectURL(imageUrl);
        };
        
        closeBtn.addEventListener('click', closeOverlay);
        overlay.addEventListener('click', (e) => {
            if (e.target === overlay) closeOverlay();
        });
        
        showSuccess('High-quality image ready for copying!');
        
    } catch (error) {
        console.error('Copy failed:', error);
        showError(`Copy failed: ${error.message}. Please try the download option.`);
    } finally {
        if (btn) {
            btn.disabled = false;
            btn.style.opacity = '1';
            btn.innerHTML = '<span>📋</span> Copy Image';
        }
    }
}
    
    // ========================================
    // PHOTO HANDLING FUNCTIONS
    // ========================================
    
    /**
     * Handle drag over event for photo upload
     */
    function handleDragOver(e) {
        e.preventDefault();
        e.currentTarget.style.borderColor = '#dc3545';
        e.currentTarget.style.background = 'rgba(220, 53, 69, 0.1)';
    }
    
    /**
     * Handle drag leave event for photo upload
     */
    function handleDragLeave(e) {
        e.preventDefault();
        e.currentTarget.style.borderColor = '#ddd';
        e.currentTarget.style.background = '#f8f9fa';
    }
    
    /**
     * Handle drop event for photo upload
     */
    function handleDrop(e) {
        e.preventDefault();
        e.currentTarget.style.borderColor = '#ddd';
        e.currentTarget.style.background = '#f8f9fa';
        
        const files = e.dataTransfer.files;
        if (files.length > 0) {
            processFile(files[0]);
        }
    }
    
    /**
     * Process uploaded photo file
     */
/**
 * FIXED: Process uploaded photo file
 */
function processFile(file) {
    console.log('Processing file:', file.name, file.type, file.size);
    
    if (!file.type.match('image.*')) {
        showError('Please select an image file showing the damage');
        return;
    }
    
    if (file.size > 10 * 1024 * 1024) { // Increased to 10MB
        showError('File size must be less than 10MB');
        return;
    }
    
    const reader = new FileReader();
    reader.onload = function(e) {
        currentPhoto = e.target.result;
        currentRotation = 0;
        currentBrightness = 100;
        console.log('Photo loaded successfully, length:', currentPhoto.length);
        showPhotoPreview();
        updateAllCardPhotos();
        showSuccess('✅ Photo uploaded and added to your card!');
    };
    reader.onerror = function() {
        showError('Error reading the photo file. Please try again.');
    };
    reader.readAsDataURL(file);
}
    
/**
 * FIXED: Show photo preview in form
 */
function showPhotoPreview() {
    const preview = document.getElementById('photo-preview');
    const previewSection = document.getElementById('photo-preview-section');
    
    if (preview && previewSection && currentPhoto) {
        preview.src = currentPhoto;
        preview.style.transform = `rotate(${currentRotation}deg)`;
        preview.style.filter = `brightness(${currentBrightness}%)`;
        previewSection.style.display = 'block';
        console.log('Photo preview shown');
    }
}
    
/**
 * Helper function to update individual card photos
 */
function updateCardPhoto(cardType, photoId, containerId, placeholderId) {
    const photo = document.getElementById(photoId);
    const container = document.getElementById(containerId);
    const placeholder = placeholderId ? document.getElementById(placeholderId) : null;
    
    if (photo && container) {
        console.log(`Updating ${cardType} card photo`);
        photo.src = currentPhoto;
        
        photo.onload = function() {
            container.style.display = 'block';
            if (placeholder) placeholder.style.display = 'none';
            photo.style.transform = `rotate(${currentRotation}deg)`;
            photo.style.filter = `brightness(${currentBrightness}%)`;
            photo.style.width = '100%';
            photo.style.height = '100%';
            photo.style.objectFit = 'cover';
            console.log(`${cardType} card photo updated successfully`);
        };
        
        photo.onerror = function() {
            console.error(`Failed to load photo in ${cardType} card`);
        };
    } else {
        console.warn(`Missing elements for ${cardType} card:`, {
            photo: !!photo,
            container: !!container,
            placeholder: !!placeholder
        });
    }
}

    
/**
 * Reset photo display when no photo is selected
 */
function resetCardPhoto() {
    const cardPhotoContainer = document.getElementById('card-photo-container');
    const photoPlaceholder = document.getElementById('photo-placeholder');
    
    if (cardPhotoContainer) {
        cardPhotoContainer.style.display = 'none';
    }
    if (photoPlaceholder) {
        photoPlaceholder.style.display = 'flex';
    }
}
    
/**
 * Rotate photo 90 degrees
 */
function rotatePhoto() {
    currentRotation = (currentRotation + 90) % 360;
    applyImageTransforms();
    console.log("Photo rotated to:", currentRotation);
}
    
/**
 * Adjust photo brightness
 */
function adjustPhoto() {
    currentBrightness = currentBrightness === 100 ? 130 : 100;
    applyImageTransforms();
    console.log("Photo brightness:", currentBrightness);
}
    
/**
 * Remove photo
 */
function removePhoto() {
    currentPhoto = null;
    currentRotation = 0;
    currentBrightness = 100;
    
    document.getElementById('photo-preview-section').style.display = 'none';
    document.getElementById('photo-input').value = '';
    
    resetAllCardPhotos();
    console.log("Photo removed");
}
    
/**
 * FIXED: Apply transforms to photos
 */
function applyImageTransforms() {
    const transform = `rotate(${currentRotation}deg)`;
    const filter = `brightness(${currentBrightness}%)`;
    
    // Apply to preview
    const preview = document.getElementById('photo-preview');
    if (preview) {
        preview.style.transform = transform;
        preview.style.filter = filter;
    }
    
    // Apply to all card photos
    const cardPhotos = [
        'card-photo',
        'impact-photo', 
        'context-photo'
    ];
    
    cardPhotos.forEach(photoId => {
        const photo = document.getElementById(photoId);
        if (photo) {
            photo.style.transform = transform;
            photo.style.filter = filter;
        }
    });
}
    
    // ========================================
    // MESSAGE GENERATION FUNCTIONS
    // ========================================
    
    /**
     * Generate scandal-focused message (legacy)
     */
    function generateScandalMessage() {
        const url = window.location.href;
        return `🚨 SMARTWINGS ACCOUNTABILITY DEMANDED 🚨

✈️ Luggage destroyed by Smartwings
💰 €${claimData.amount} claim filed
📅 ${claimData.days} DAYS OF COMPLETE SILENCE
📞 NO phone support available
📧 Email ignored completely
💻 Web form with no response

SYSTEM DESIGNED TO AVOID ACCOUNTABILITY

#SmartwingsAccountability #PassengerRights #SystemicFailure

Document your experience: ${url}`;
    }
    
/**
 * Generate campaign-style message
 */
function generateCampaignMessage() {
    const currentUrl = window.location.href;
    
    return `Documenting Airline Accountability: ${claimData.days} days without resolution for a €${claimData.amount} luggage damage claim.

Industry data suggests thousands of passengers may face similar delays. I've created this visualization tool to bring transparency to the claims process.

Explore the data: ${currentUrl}

#PassengerRights #AirlineAccountability`;
}
    
/**
 * Enhanced Twitter message for viral sharing
 */
function generateTwitterMessage(data, shareUrl) {
    return `📊 Documenting Airline Accountability: ${data.days} days without response on my €${data.amount} claim.

🔍 Industry data: ~11,620 damaged bags yearly (SITA 2024)

🤖 I built this AI-powered tool to help passengers document their experiences.

Are you also waiting? ${shareUrl}

#PassengerRights #ConsumerProtection #AIInnovation`;
}
    
/**
 * Enhanced LinkedIn message for professional sharing
 */
function generateLinkedInMessage(data, shareUrl) {
    return `# Documenting Airline Accountability & AI Innovation

I'm sharing two interconnected stories:

## 1. Consumer Rights & Industry Patterns
After ${data.days} days without response to a luggage damage claim, I documented this case study. SITA's 2024 Baggage Report shows over 11,000 damaged bags annually, potentially creating patterns affecting many passengers.

## 2. AI-Enabled Consumer Advocacy
Rather than accepting the status quo, I used AI (Claude.ai) to create a data visualization tool despite having no coding background. This shows how emerging technologies can empower consumers to document and create transparency.

🔗 View the documented experience: ${shareUrl}

Have you used AI to solve unexpected problems? Or experienced similar challenges with travel claims?

#ConsumerRights #AIInnovation #PassengerRights #TravelTech`;
}

    
/**
 * Enhanced WhatsApp message for personal sharing
 */
function generateWhatsAppMessage(data, shareUrl) {
    return `🔍 *Airline Accountability Documentation*

My experience: €${data.amount} claim, ${data.days} days without response

Industry context: ~11,620 damaged bags annually (SITA 2024 data)

I built an AI tool to help passengers document these patterns and create transparency.

Check it out: ${shareUrl}

#PassengerRights #ConsumerProtection`;
}
    
/**
 * Enhanced Facebook message for community sharing
 */
function generateFacebookMessage(data, shareUrl) {
    return `✈️ Documenting Airline Accountability

I'm sharing my experience as part of a passenger rights awareness initiative: ${data.days} days without resolution for a €${data.amount} luggage claim.

Industry context shows this isn't isolated:
• SITA 2024: 1.4 damaged bags per 1,000 passengers
• ~11,620 damaged bags yearly for this carrier
• Potentially €1.16M in claims requiring processing

I created an AI-powered tool to help document these experiences. Technology can empower consumers to create transparency and drive accountability.

Document your experience: ${shareUrl}

#PassengerRights #ConsumerAwareness #TravelJustice`;
}

    
    // ========================================
    // SOCIAL MEDIA SHARING FUNCTIONS
    // ========================================
    
/**
 * Update Twitter sharing with enhanced messages
 */
async function shareToTwitterEnhanced() {
    const btn = document.querySelector('.share-btn.twitter');
    if (btn) {
        btn.disabled = true;
        btn.style.opacity = '0.7';
    }
    
    try {
        const messages = generateEnhancedSocialMessages(claimData);
        const message = messages.twitter;
        
        // Copy message to clipboard
        if (navigator.clipboard) {
            await navigator.clipboard.writeText(message);
        }
        
        // Open Twitter with pre-filled message
        const twitterUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(message)}`;
        window.open(twitterUrl, '_blank');
        
        showSuccess(`
            <strong>Twitter Ready!</strong><br>
            1. Twitter opened with your message<br>
            2. Your experience URL will auto-preview with the card image<br>
            3. Just click "Post" to share!
        `);
        
    } catch (error) {
        console.error('Twitter share error:', error);
        showError('Error sharing to Twitter. Please try again.');
    } finally {
        if (btn) {
            btn.disabled = false;
            btn.style.opacity = '1';
        }
    }
}
    
    // [Your existing shareToFacebook, shareToLinkedIn, shareToWhatsApp functions will stay here]
    
/**
 * Update Facebook sharing with enhanced messages
 */
async function shareToFacebookEnhanced() {
    const btn = document.querySelector('.share-btn.facebook');
    if (btn) {
        btn.disabled = true;
        btn.style.opacity = '0.7';
    }
    
    try {
        const shareUrl = generateEnhancedShareURL(claimData);
        
        // Use Facebook's share dialog with the enhanced URL
        const facebookUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(shareUrl)}`;
        window.open(facebookUrl, '_blank');
        
        showSuccess(`
            <strong>Facebook Ready!</strong><br>
            1. Facebook opened with your experience URL<br>
            2. Your card image will auto-preview<br>
            3. Add your own message and share!
        `);
        
    } catch (error) {
        console.error('Facebook share error:', error);
        showError('Error sharing to Facebook. Please try again.');
    } finally {
        if (btn) {
            btn.disabled = false;
            btn.style.opacity = '1';
        }
    }
}
    
/**
 * Update social sharing buttons to use enhanced messages
 */
async function shareToLinkedInEnhanced() {
    const btn = document.querySelector('.share-btn.linkedin') || document.getElementById('mobile-linkedin-btn');
    if (btn) {
        btn.disabled = true;
        btn.style.opacity = '0.7';
    }
    
    try {
        const messages = generateEnhancedSocialMessages(claimData);
        const message = messages.linkedin;
        
        // Copy message to clipboard
        if (navigator.clipboard) {
            await navigator.clipboard.writeText(message);
        }
        
        // Open LinkedIn
        window.open('https://www.linkedin.com/feed/', '_blank');
        
        showSuccess(`
            <strong>LinkedIn Ready!</strong><br>
            1. Message copied to clipboard<br>
            2. LinkedIn opened in new tab<br>
            3. Click "Start a post" and paste<br>
            4. Your experience URL will auto-preview with the card image
        `);
        
    } catch (error) {
        console.error('LinkedIn share error:', error);
        showError('Error preparing LinkedIn share. Please try again.');
    } finally {
        if (btn) {
            btn.disabled = false;
            btn.style.opacity = '1';
        }
    }
}
    
    /**
     * Share to WhatsApp
     */
    async function shareToWhatsApp() {
        const btn = document.querySelector('.share-btn.whatsapp');
        btn.style.opacity = '0.7';
        btn.style.pointerEvents = 'none';
        
        try {
            const message = generateWhatsAppMessage();
            const cardImage = await generateCardImage();
            
            // Try native sharing first (works on mobile)
            if (navigator.share && cardImage) {
                try {
                    const file = new File([cardImage], 'smartwings-delay-evidence.png', { type: 'image/png' });
                    await navigator.share({
                        text: message,
                        files: [file]
                    });
                    showSuccess('✅ Successfully shared via WhatsApp with your story!');
                    return;
                } catch (e) {
                    console.log('Native share failed');
                }
            }
            
            // Fallback: Copy message and download image
            if (navigator.clipboard) {
                await navigator.clipboard.writeText(message);
            }
            
            downloadCard(); // Auto-download the image
            
            const whatsappUrl = `https://api.whatsapp.com/send?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
            
            showSuccess('💬 WhatsApp opened! Your story copied and evidence downloaded - attach the image!');
        } catch (error) {
            console.error('WhatsApp share error:', error);
            showError('Error preparing WhatsApp share. Please try again.');
        } finally {
            btn.style.opacity = '1';
            btn.style.pointerEvents = 'auto';
        }
    }
// ========================================
// MOBILE SHARE FUNCTIONS
// ========================================

/**
 * Enhanced native share function with better image handling
 */
async function nativeShare() {
    const btn = document.getElementById('native-share-btn');
    if (btn) {
        btn.disabled = true;
        btn.style.opacity = '0.7';
    }
    
    try {
        // Generate high-quality message and image
        const message = generateCampaignMessage();
        const cardImage = await generateCardImage(false, 3); // Use highest quality
        
        // Determine which platform's format we should use based on mobile OS
        const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
        const isAndroid = /android/i.test(navigator.userAgent);
        
        // Create appropriate share data based on platform
        let shareData = {
            title: "Airline Accountability Documentation",
            text: message
        };
        
        // Add URL only if it's not already in the message (prevents duplication)
        if (!message.includes(window.location.href)) {
            shareData.url = window.location.href;
        }
        
        // Add image to share if supported
        let imageAdded = false;
        try {
            if (cardImage && navigator.canShare) {
                const fileName = isIOS ? 'airline-accountability.png' : 'airline-accountability.png';
                const file = new File([cardImage], fileName, { type: 'image/png' });
                
                if (navigator.canShare({ files: [file] })) {
                    shareData.files = [file];
                    imageAdded = true;
                }
            }
        } catch (e) {
            console.log('File sharing not supported:', e);
        }
        
        // Attempt to share
        try {
            await navigator.share(shareData);
            showSuccess(imageAdded ? 
                '✅ Successfully shared with image!' : 
                '✅ Successfully shared your message!');
        } catch (shareError) {
            console.log('Native share failed:', shareError);
            
            // Fall back to clipboard + download
            if (navigator.clipboard) {
                await navigator.clipboard.writeText(message);
            }
            
            // Download the image as fallback
            const link = document.createElement('a');
            link.download = `Airline-Accountability-${new Date().toISOString().slice(0, 10)}.png`;
            link.href = URL.createObjectURL(cardImage);
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            showSuccess('Message copied and image downloaded. You can now share them manually.');
        }
    } catch (error) {
        console.error('Share error:', error);
        showError('Sorry, there was a problem sharing. Please try again or use the platform-specific buttons below.');
    } finally {
        if (btn) {
            btn.disabled = false;
            btn.style.opacity = '1';
        }
    }
}

/**
 * Save to photos function (mobile-friendly)
 */
async function saveToPhotos() {
    const btn = document.getElementById('save-photo-btn');
    if (btn) {
        btn.disabled = true;
        btn.style.opacity = '0.7';
    }
    
    try {
        const cardImage = await generateCardImage();
        
        // Create download link
        const link = document.createElement('a');
        const dateString = new Date().toLocaleDateString().replace(/\//g, '-');
        link.download = `Smartwings-Claim-${dateString}.png`;
        link.href = URL.createObjectURL(cardImage);
        
        // iOS handling vs normal download
        const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
        if (isIOS) {
            // On iOS, open in new tab so user can save with press-and-hold
            window.open(link.href, '_blank');
            showSuccess('Image opened. Press and hold to save to Photos.');
        } else {
            // Normal download
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            showSuccess('✓ Image saved to your downloads!');
        }
    } catch (error) {
        console.error('Save error:', error);
        showError('Could not save image. Please try the download button instead.');
    } finally {
        if (btn) {
            btn.disabled = false;
            btn.style.opacity = '1';
        }
    }
}

/**
 * Helper function for clipboard + download fallback
 */
async function tryClipboardWithDownload(message, cardImage) {
    // Try copying message to clipboard
    try {
        if (navigator.clipboard) {
            await navigator.clipboard.writeText(message);
            showSuccess('Message copied! Image is being downloaded.');
        }
    } catch (e) {
        console.log('Clipboard access failed');
    }
    
    // Download image as fallback
    if (cardImage) {
        const link = document.createElement('a');
        const dateString = new Date().toLocaleDateString().replace(/\//g, '-');
        link.download = `Smartwings-Claim-${dateString}.png`;
        link.href = URL.createObjectURL(cardImage);
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
    }
}

    /**
 * Initialize enhanced sharing system
 */
function initializeEnhancedSharing() {
    console.log('Initializing enhanced sharing system...');
    
    // Update existing share button event listeners
    const linkedinBtn = document.querySelector('.share-btn.linkedin');
    if (linkedinBtn) {
        linkedinBtn.onclick = shareToLinkedInEnhanced;
    }
    
    const twitterBtn = document.querySelector('.share-btn.twitter');
    if (twitterBtn) {
        twitterBtn.onclick = shareToTwitterEnhanced;
    }
    
    const facebookBtn = document.querySelector('.share-btn.facebook');
    if (facebookBtn) {
        facebookBtn.onclick = shareToFacebookEnhanced;
    }
    
    // Update mobile buttons
    const mobileLinkedInBtn = document.getElementById('mobile-linkedin-btn');
    if (mobileLinkedInBtn) {
        mobileLinkedInBtn.onclick = shareToLinkedInEnhanced;
    }
    
    const mobileTwitterBtn = document.getElementById('mobile-twitter-btn');
    if (mobileTwitterBtn) {
        mobileTwitterBtn.onclick = shareToTwitterEnhanced;
    }
    
    const mobileFacebookBtn = document.getElementById('mobile-facebook-btn');
    if (mobileFacebookBtn) {
        mobileFacebookBtn.onclick = shareToFacebookEnhanced;
    }
    
    console.log('Enhanced sharing system initialized');
}

// Initialize enhanced sharing when DOM is ready
document.addEventListener('DOMContentLoaded', function() {
    // Existing initialization code...
    initializeYears();
    setupEventListeners();
    
    // Add enhanced sharing initialization
    initializeEnhancedSharing();
    
    console.log('Enhanced sharing system ready');
});

/**
 * Initialize mobile sharing
 */
function setupMobileShare() {
    // Set up native share button
    const nativeShareBtn = document.getElementById('native-share-btn');
    if (nativeShareBtn) {
        nativeShareBtn.addEventListener('click', nativeShare);
    }
    
    // Set up save to photos button
    const savePhotoBtn = document.getElementById('save-photo-btn');
    if (savePhotoBtn) {
        savePhotoBtn.addEventListener('click', saveToPhotos);
    }
    
    // Check if we're on a mobile device
    const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    
    if (isMobile) {
        // Make regular share buttons use native sharing on mobile if possible
        const platformButtons = document.querySelectorAll('.share-btn');
        platformButtons.forEach(btn => {
            const platform = 
                btn.classList.contains('twitter') ? 'twitter' :
                btn.classList.contains('facebook') ? 'facebook' :
                btn.classList.contains('linkedin') ? 'linkedin' : 
                btn.classList.contains('whatsapp') ? 'whatsapp' : '';
                
            if (platform && !btn.classList.contains('download')) {
                btn.addEventListener('click', function(e) {
                    if (navigator.share) {
                        e.preventDefault();
                        nativeShare();
                    }
                    // Otherwise let the original click handler work
                });
            }
        });
    }
}
/**
 * Native share function that works across platforms
 */
async function nativeShare() {
    const btn = document.getElementById('native-share-btn');
    if (btn) {
        btn.disabled = true;
        btn.style.opacity = '0.7';
    }
    
    try {
        // Generate message and image
        const message = generateCampaignMessage(); // Use a general message
        const cardImage = await generateCardImage();
        
        // Check if Web Share API is available
        if (navigator.share) {
            try {
                // Create share data object
                const shareData = {
                    title: "Airline Accountability Documentation",
                    text: message,
                    url: window.location.href
                };
                
                // Try to add image if File sharing is supported
                let canAddFile = false;
                try {
                    if (cardImage && navigator.canShare) {
                        const file = new File([cardImage], 'smartwings-claim.png', { type: 'image/png' });
                        canAddFile = navigator.canShare({ files: [file] });
                        if (canAddFile) {
                            shareData.files = [file];
                        }
                    }
                } catch (e) {
                    console.log('File sharing not supported');
                }
                
                // Share!
                await navigator.share(shareData);
                showSuccess(canAddFile ? 
                    '✅ Successfully shared your claim card with image!' : 
                    '✅ Successfully shared your claim details!');
            } catch (e) {
                console.log('Native share failed:', e);
                
                // Fall back to clipboard + image download
                tryClipboardWithDownload(message, cardImage);
            }
        } else {
            // Web Share API not available, fall back
            tryClipboardWithDownload(message, cardImage);
        }
    } catch (error) {
        console.error('Share error:', error);
        showError('Sorry, there was a problem sharing. Please try again.');
    } finally {
        if (btn) {
            btn.disabled = false;
            btn.style.opacity = '1';
        }
    }
}

/**
 * Helper function for clipboard + download fallback
 */
async function tryClipboardWithDownload(message, cardImage) {
    // Try copying message to clipboard
    try {
        if (navigator.clipboard) {
            await navigator.clipboard.writeText(message);
            showSuccess('Message copied! Image is being downloaded.');
        }
    } catch (e) {
        console.log('Clipboard access failed');
    }
    
    // Download image as fallback
    if (cardImage) {
        const link = document.createElement('a');
        const dateString = new Date().toLocaleDateString().replace(/\//g, '-');
        link.download = `Airline-Accountability-${dateString}.png`;
        link.href = URL.createObjectURL(cardImage);
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
    }
}

/**
 * Initialize mobile sharing
 */
function setupMobileShare() {
    // Set up native share button (general)
    const nativeShareBtn = document.getElementById('native-share-btn');
    if (nativeShareBtn) {
        nativeShareBtn.addEventListener('click', nativeShare);
    }
    
    // Platform-specific mobile buttons
    const mobileLinkedInBtn = document.getElementById('mobile-linkedin-btn');
    const mobileTwitterBtn = document.getElementById('mobile-twitter-btn');
    const mobileFacebookBtn = document.getElementById('mobile-facebook-btn');
    const mobileSaveBtn = document.getElementById('mobile-save-btn');
    
    if (mobileLinkedInBtn) {
        mobileLinkedInBtn.addEventListener('click', shareToLinkedIn);
    }
    
    if (mobileTwitterBtn) {
        mobileTwitterBtn.addEventListener('click', shareToTwitter);
    }
    
    if (mobileFacebookBtn) {
        mobileFacebookBtn.addEventListener('click', shareToFacebook);
    }
    
    if (mobileSaveBtn) {
        mobileSaveBtn.addEventListener('click', saveToPhotos);
    }
}

/**
 * Save to photos function (mobile-friendly)
 */
async function saveToPhotos() {
    const saveBtn = document.getElementById('mobile-save-btn') || document.getElementById('save-photo-btn');
    if (saveBtn) {
        saveBtn.disabled = true;
        saveBtn.style.opacity = '0.7';
    }
    
    try {
        const cardImage = await generateCardImage();
        
        // Create download link
        const link = document.createElement('a');
        const dateString = new Date().toLocaleDateString().replace(/\//g, '-');
        link.download = `Airline-Accountability-${dateString}.png`;
        link.href = URL.createObjectURL(cardImage);
        
        // iOS handling vs normal download
        const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
        if (isIOS) {
            // On iOS, open in new tab so user can save with press-and-hold
            window.open(link.href, '_blank');
            showSuccess('Image opened. Press and hold to save to Photos.');
        } else {
            // Normal download
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            showSuccess('✓ Image saved to your downloads!');
        }
    } catch (error) {
        console.error('Save error:', error);
        showError('Could not save image. Please try the download button instead.');
    } finally {
        if (saveBtn) {
            saveBtn.disabled = false;
            saveBtn.style.opacity = '1';
        }
    }
}
// ========================================
// UTILITY FUNCTIONS
// ========================================

/**
 * Get formatted date string for file naming
 */
function getDateString() {
    // ... existing function code ...
}

    
    // ========================================
    // UTILITY FUNCTIONS
    // ========================================
    
    /**
     * Get formatted date string for file naming
     */
    function getDateString() {
        const today = new Date();
        const day = today.getDate();
        const month = today.toLocaleString('default', { month: 'short' });
        const year = today.getFullYear();
        return `${day}${month}${year}`;
    }
    
/**
 * COMPLETELY FIXED: Download card with working image generation
 */
async function downloadCard() {
    const btn = document.querySelector('.share-btn.download');
    if (btn) {
        btn.disabled = true;
        btn.style.opacity = '0.7';
        btn.innerHTML = '<span>⏳</span> Creating...';
    }
    
    try {
        console.log('Starting download process...');
        
        if (!claimData || !claimData.days) {
            throw new Error("Please fill out the form first");
        }
        
        // Find the visible card
        let cardElement = null;
        const impactCard = document.getElementById('impact-card');
        const contextCard = document.getElementById('context-card');
        
        if (impactCard && impactCard.style.display !== 'none') {
            cardElement = impactCard;
            console.log("Using impact card for download");
        } else if (contextCard && contextCard.style.display !== 'none') {
            cardElement = contextCard;
            console.log("Using context card for download");
        } else {
            // Default to impact card
            cardElement = impactCard;
            if (cardElement) {
                cardElement.style.display = 'block';
                console.log("Defaulting to impact card");
            }
        }
        
        if (!cardElement) {
            throw new Error("No card found to download");
        }
        
        console.log('Card element found:', cardElement.id);
        console.log('Card dimensions:', cardElement.offsetWidth, 'x', cardElement.offsetHeight);
        
        // Ensure card is fully visible
        cardElement.style.display = 'block';
        cardElement.style.visibility = 'visible';
        cardElement.style.opacity = '1';
        
        // Wait a moment for rendering
        await new Promise(resolve => setTimeout(resolve, 100));
        
        console.log('Generating canvas with html2canvas...');
        
        const canvas = await html2canvas(cardElement, {
            scale: 2, // Higher quality
            backgroundColor: null,
            useCORS: true,
            allowTaint: true,
            logging: false,
            width: cardElement.offsetWidth,
            height: cardElement.offsetHeight,
            onclone: function(clonedDoc) {
                // Ensure cloned element is visible
                const clonedCard = clonedDoc.querySelector(`#${cardElement.id}`);
                if (clonedCard) {
                    clonedCard.style.display = 'block';
                    clonedCard.style.visibility = 'visible';
                    clonedCard.style.opacity = '1';
                }
            }
        });
        
        console.log('Canvas created successfully:', canvas.width, 'x', canvas.height);
        
        if (canvas.width === 0 || canvas.height === 0) {
            throw new Error("Generated canvas has zero dimensions");
        }
        
        // Convert to blob with high quality
        const blob = await new Promise((resolve, reject) => {
            canvas.toBlob((blob) => {
                if (blob && blob.size > 1000) { // At least 1KB
                    resolve(blob);
                } else {
                    reject(new Error("Generated blob is too small or empty"));
                }
            }, 'image/png', 1.0);
        });
        
        console.log('High-quality blob created, size:', blob.size);
        
        // Create download
        const url = URL.createObjectURL(blob);
        const link = document.createElement('a');
        const dateString = new Date().toLocaleDateString().replace(/\//g, '-');
        link.download = `Smartwings-Claim-${claimData.days}days-${dateString}.png`;
        link.href = url;
        
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
        
        // Clean up
        setTimeout(() => URL.revokeObjectURL(url), 1000);
        
        showSuccess('✅ High-quality card downloaded successfully!');
        
    } catch (error) {
        console.error('Download failed:', error);
        showError(`Download failed: ${error.message}. Please try again.`);
    } finally {
        if (btn) {
            btn.disabled = false;
            btn.style.opacity = '1';
            btn.innerHTML = '<span>📸</span> Get Your Card';
        }
    }
}

  
/**
 * FIXED: Generate card image with improved quality and error handling
 */
async function generateCardImage(smaller = false, scale = 2) {
    console.log("Starting generateCardImage...");
    
    // Determine which card to capture based on current design
    let cardElement;
    const cardElements = {
        'minimalist': document.getElementById('minimalist-card'),
        'impact': document.getElementById('impact-card'), 
        'context': document.getElementById('context-card')
    };
    
    // Find the visible card
    for (const [design, element] of Object.entries(cardElements)) {
        if (element && element.style.display !== 'none') {
            cardElement = element;
            currentCardDesign = design;
            console.log(`Found visible card: ${design}`);
            break;
        }
    }
    
    // Fallback to impact card if none found
    if (!cardElement) {
        cardElement = cardElements.impact;
        if (cardElement) {
            cardElement.style.display = 'block';
            currentCardDesign = 'impact';
            console.log("Fallback to impact card");
        }
    }
    
    if (!cardElement) {
        throw new Error("No card element found to capture");
    }
    
    // Ensure the card is properly visible and styled
    const originalStyles = {
        display: cardElement.style.display,
        visibility: cardElement.style.visibility,
        position: cardElement.style.position,
        zIndex: cardElement.style.zIndex
    };
    
    // Force visibility
    cardElement.style.display = 'block';
    cardElement.style.visibility = 'visible';
    cardElement.style.position = 'relative';
    cardElement.style.zIndex = '1';
    
    // Wait for any images to load
    const images = cardElement.querySelectorAll('img');
    await Promise.all(Array.from(images).map(img => {
        if (img.complete) return Promise.resolve();
        return new Promise((resolve, reject) => {
            img.onload = resolve;
            img.onerror = resolve; // Don't fail on image errors
            setTimeout(resolve, 2000); // Timeout after 2 seconds
        });
    }));
    
    console.log("Images loaded, generating canvas...");
    
    return new Promise((resolve, reject) => {
        const options = {
            scale: smaller ? 1 : scale,
            backgroundColor: (currentCardDesign === 'minimalist' || currentCardDesign === 'context') ? '#ffffff' : null,
            useCORS: true,
            allowTaint: true,
            logging: false,
            imageTimeout: 0,
            removeContainer: false,
            foreignObjectRendering: false,
            width: cardElement.offsetWidth,
            height: cardElement.offsetHeight,
            onclone: function(clonedDoc) {
                console.log("Cloning document...");
                // Find the cloned card element
                const clonedCard = clonedDoc.querySelector(`#${cardElement.id}`);
                if (clonedCard) {
                    clonedCard.style.display = 'block';
                    clonedCard.style.visibility = 'visible';
                    clonedCard.style.position = 'relative';
                    clonedCard.style.zIndex = '1';
                    
                    // Ensure fonts are loaded
                    const style = clonedDoc.createElement('style');
                    style.textContent = `
                        * { font-family: 'Arial', sans-serif !important; }
                        .claim-card-impact { background: linear-gradient(135deg, #dc2626, #b91c1c) !important; }
                        .claim-card-context { background: linear-gradient(135deg, #f8f9fa, #e9ecef) !important; }
                    `;
                    clonedDoc.head.appendChild(style);
                }
            }
        };
        
        html2canvas(cardElement, options).then(canvas => {
            console.log("Canvas generated successfully", canvas.width, canvas.height);
            
            // Restore original styles
            Object.assign(cardElement.style, originalStyles);
            
            if (canvas.width === 0 || canvas.height === 0) {
                reject(new Error("Generated canvas has zero dimensions"));
                return;
            }
            
            if (smaller) {
                // Create a smaller canvas for email sharing
                const smallCanvas = document.createElement('canvas');
                const ctx = smallCanvas.getContext('2d');
                smallCanvas.width = 400;
                smallCanvas.height = (400 * canvas.height) / canvas.width;
                ctx.drawImage(canvas, 0, 0, smallCanvas.width, smallCanvas.height);
                smallCanvas.toBlob(blob => {
                    if (blob && blob.size > 0) {
                        resolve(blob);
                    } else {
                        reject(new Error("Failed to create smaller image blob"));
                    }
                }, 'image/png', 0.95);
            } else {
                canvas.toBlob(blob => {
                    if (blob && blob.size > 0) {
                        console.log("Image blob created successfully, size:", blob.size);
                        resolve(blob);
                    } else {
                        reject(new Error("Failed to create image blob"));
                    }
                }, 'image/png', 0.95);
            }
        }).catch(error => {
            console.error("html2canvas error:", error);
            // Restore original styles on error
            Object.assign(cardElement.style, originalStyles);
            reject(error);
        });
    });
}
    
    /**
     * Show success message to user
     * @param {string} message - The success message to display
     */
    function showSuccess(message) {
        const successEl = document.getElementById('success-message');
        // Preserve line breaks by converting \n to <br>
        successEl.innerHTML = message.replace(/\n/g, '<br>');
        successEl.classList.add('show');
        
        setTimeout(() => {
            successEl.classList.remove('show');
        }, 15000); // Longer timeout for detailed instructions
    }
/**
 * Enhance form for better mobile experience
 */
function enhanceMobileForm() {
    // Improve error messages visibility
    const errorMessage = document.getElementById('error-message');
    if (errorMessage) {
        errorMessage.style.padding = '15px';
        errorMessage.style.marginTop = '15px';
        errorMessage.style.textAlign = 'center';
        errorMessage.style.fontWeight = '500';
    }

    /**
 * Focus on two most effective card designs
 */
function optimizeCardDesigns() {
    // Get references to elements
    const minimalistCard = document.getElementById('minimalist-card');
    const impactCard = document.getElementById('impact-card');
    const contextCard = document.getElementById('context-card');
    const cardToggle = document.querySelector('.card-toggle');
    
    // Always hide minimalist card (least distinctive)
    if (minimalistCard) {
        minimalistCard.style.display = 'none';
    }
    
    // Rebuild toggle buttons for clarity
    if (cardToggle) {
        // Clear existing buttons
        cardToggle.innerHTML = '';
        
        // Create new impact button
        const impactBtn = document.createElement('button');
        impactBtn.className = 'card-toggle-btn active';
        impactBtn.setAttribute('data-design', 'impact');
        impactBtn.innerHTML = `
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"></path>
                <path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"></path>
                <path d="M4 22h16"></path>
                <path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"></path>
                <path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"></path>
                <path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"></path>
            </svg>
            Emotional Impact
        `;
        
        // Create new context button
        const contextBtn = document.createElement('button');
        contextBtn.className = 'card-toggle-btn';
        contextBtn.setAttribute('data-design', 'context');
        contextBtn.innerHTML = `
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M3 3v18h18"></path>
                <path d="M7 17l4-4 4 4 6-6"></path>
            </svg>
            Industry Context
        `;
        
        // Add buttons to toggle
        cardToggle.appendChild(impactBtn);
        cardToggle.appendChild(contextBtn);
        
        // Set up event handlers for new buttons
        impactBtn.addEventListener('click', function() {
            impactBtn.classList.add('active');
            contextBtn.classList.remove('active');
            impactCard.style.display = 'block';
            contextCard.style.display = 'none';
            currentCardDesign = 'impact';
        });
        
        contextBtn.addEventListener('click', function() {
            contextBtn.classList.add('active');
            impactBtn.classList.remove('active');
            contextCard.style.display = 'block';
            impactCard.style.display = 'none';
            currentCardDesign = 'context';
        });
    }
    
    // Set default display state
    if (impactCard) {
        impactCard.style.display = 'block';
    }
    if (contextCard) {
        contextCard.style.display = 'none';
    }
    
    // Update global tracking variable
    currentCardDesign = 'impact';
}
    
    // Add basic form validation with visual feedback
    const formInputs = document.querySelectorAll('.form-item input, .form-item select');
    formInputs.forEach(input => {
        // Add visual feedback for form validation
        input.addEventListener('invalid', function() {
            this.style.borderColor = 'var(--primary-red)';
            this.style.backgroundColor = 'rgba(220, 53, 69, 0.05)';
            
            // Show error message for this specific field
            const fieldName = this.previousElementSibling?.textContent || 'This field';
            showError(`${fieldName} is required`);
        });
        
        // Remove error styling when user begins typing
        input.addEventListener('input', function() {
            this.style.borderColor = '';
            this.style.backgroundColor = '';
        });
    });
    
    // Enhance photo preview experience
    const photoPreview = document.getElementById('photo-preview');
    if (photoPreview) {
        // Add tap to enlarge functionality for mobile
        photoPreview.addEventListener('click', function() {
            if (window.innerWidth <= 768) {
                if (this.style.maxHeight === '80vh') {
                    this.style.maxHeight = '200px';
                    this.style.position = '';
                    this.style.zIndex = '';
                } else {
                    this.style.maxHeight = '80vh';
                    this.style.position = 'relative';
                    this.style.zIndex = '10';
                }
            }
        });
    }
    
    // Make form submission feedback more mobile-friendly
    const successMessage = document.getElementById('success-message');
    if (successMessage) {
        successMessage.style.fontSize = '1rem';
        successMessage.style.padding = '15px';
        successMessage.style.textAlign = 'center';
    }
}

/**
 * Focus on two most effective card designs
 */
function optimizeCardDesigns() {
    // Get references to elements
    const minimalistCard = document.getElementById('minimalist-card');
    const impactCard = document.getElementById('impact-card');
    const contextCard = document.getElementById('context-card');
    const cardToggle = document.querySelector('.card-toggle');
    
    // Always hide minimalist card (least distinctive)
    if (minimalistCard) {
        minimalistCard.style.display = 'none';
    }
    
    // Rebuild toggle buttons for clarity
    if (cardToggle) {
        // Clear existing buttons
        cardToggle.innerHTML = '';
        
        // Create new impact button
        const impactBtn = document.createElement('button');
        impactBtn.className = 'card-toggle-btn active';
        impactBtn.setAttribute('data-design', 'impact');
        impactBtn.innerHTML = `
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"></path>
                <path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"></path>
                <path d="M4 22h16"></path>
                <path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"></path>
                <path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"></path>
                <path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"></path>
            </svg>
            Emotional Impact
        `;
        
        // Create new context button
        const contextBtn = document.createElement('button');
        contextBtn.className = 'card-toggle-btn';
        contextBtn.setAttribute('data-design', 'context');
        contextBtn.innerHTML = `
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M3 3v18h18"></path>
                <path d="M7 17l4-4 4 4 6-6"></path>
            </svg>
            Industry Context
        `;
        
        // Add buttons to toggle
        cardToggle.appendChild(impactBtn);
        cardToggle.appendChild(contextBtn);
        
        // Set up event handlers for new buttons
        impactBtn.addEventListener('click', function() {
            impactBtn.classList.add('active');
            contextBtn.classList.remove('active');
            impactCard.style.display = 'block';
            contextCard.style.display = 'none';
            currentCardDesign = 'impact';
        });
        
        contextBtn.addEventListener('click', function() {
            contextBtn.classList.add('active');
            impactBtn.classList.remove('active');
            contextCard.style.display = 'block';
            impactCard.style.display = 'none';
            currentCardDesign = 'context';
        });
    }
    
    // Set default display state
    if (impactCard) {
        impactCard.style.display = 'block';
    }
    if (contextCard) {
        contextCard.style.display = 'none';
    }
    
    // Update global tracking variable
    currentCardDesign = 'impact';
}


/**
 * FIXED: Set up card design toggle functionality
 */
function setupCardToggle() {
    console.log("Setting up card toggle...");
    
    const cardToggle = document.querySelector('.card-toggle');
    if (!cardToggle) {
        console.error("Card toggle element not found");
        return;
    }
    
    // Get all cards
    const minimalistCard = document.getElementById('minimalist-card');
    const impactCard = document.getElementById('impact-card');
    const contextCard = document.getElementById('context-card');
    
    console.log("Cards found:", {
        minimalist: !!minimalistCard,
        impact: !!impactCard,
        context: !!contextCard
    });
    
    // Clear existing buttons and create new ones
    cardToggle.innerHTML = '';
    
    // Create Impact button
    const impactBtn = document.createElement('button');
    impactBtn.className = 'card-toggle-btn active';
    impactBtn.setAttribute('data-design', 'impact');
    impactBtn.innerHTML = `
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"></path>
            <path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"></path>
            <path d="M4 22h16"></path>
            <path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"></path>
            <path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"></path>
            <path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"></path>
        </svg>
        Maximum Impact
    `;
    
    // Create Context button  
    const contextBtn = document.createElement('button');
    contextBtn.className = 'card-toggle-btn';
    contextBtn.setAttribute('data-design', 'context');
    contextBtn.innerHTML = `
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M3 3v18h18"></path>
            <path d="M7 17l4-4 4 4 6-6"></path>
        </svg>
        Industry Data
    `;
    
    // Add buttons to toggle
    cardToggle.appendChild(impactBtn);
    cardToggle.appendChild(contextBtn);
    
    // Set up click handlers
    impactBtn.addEventListener('click', function() {
        console.log("Switching to impact card");
        impactBtn.classList.add('active');
        contextBtn.classList.remove('active');
        
        if (impactCard) impactCard.style.display = 'block';
        if (contextCard) contextCard.style.display = 'none';
        if (minimalistCard) minimalistCard.style.display = 'none';
        
        currentCardDesign = 'impact';
        console.log("Current card design:", currentCardDesign);
    });
    
    contextBtn.addEventListener('click', function() {
        console.log("Switching to context card");
        contextBtn.classList.add('active');
        impactBtn.classList.remove('active');
        
        if (contextCard) contextCard.style.display = 'block';
        if (impactCard) impactCard.style.display = 'none';
        if (minimalistCard) minimalistCard.style.display = 'none';
        
        currentCardDesign = 'context';
        console.log("Current card design:", currentCardDesign);
    });
    
    // Set initial state
    if (impactCard) {
        impactCard.style.display = 'block';
        console.log("Impact card set to display: block");
    }
    if (contextCard) {
        contextCard.style.display = 'none';
        console.log("Context card set to display: none");
    }
    if (minimalistCard) {
        minimalistCard.style.display = 'none';
        console.log("Minimalist card set to display: none");
    }
    
    currentCardDesign = 'impact';
    console.log("Card toggle setup complete. Current design:", currentCardDesign);
}

/**
 * Update both cards with claim data
 */
function updateBothCards() {
    try {
        // Update elements that actually exist in the HTML
        
        // Professional card (minimalist card)
        if (document.getElementById('days-count')) {
            document.getElementById('days-count').textContent = claimData.days;
        }
        if (document.getElementById('amount-value')) {
            document.getElementById('amount-value').textContent = `€${claimData.amount}`;
        }
        if (document.getElementById('submission-date')) {
            document.getElementById('submission-date').textContent = claimData.submissionDate;
        }
        
        // Maximum Impact card
        if (document.getElementById('impact-days-count')) {
            document.getElementById('impact-days-count').textContent = claimData.days;
        }
        if (document.getElementById('impact-amount-value')) {
            document.getElementById('impact-amount-value').textContent = `€${claimData.amount}`;
        }
        if (document.getElementById('impact-submission-date')) {
            document.getElementById('impact-submission-date').textContent = claimData.submissionDate;
        }
        
        // Industry Data card (context card)
        if (document.getElementById('context-days-count')) {
            document.getElementById('context-days-count').textContent = claimData.days;
        }
        if (document.getElementById('context-amount-value')) {
            document.getElementById('context-amount-value').textContent = claimData.amount;
        }
        if (document.getElementById('context-submission-date')) {
            document.getElementById('context-submission-date').textContent = claimData.submissionDate;
        }
        
        // Update photo if available
        if (currentPhoto) {
            updateAllCardPhotos();
        }
    } catch (error) {
        console.error("Error in updateBothCards:", error);
    }
}

/**
 * FIXED: Update photos on all cards with complete rebuild
 */
function updateAllCardPhotos() {
    console.log("Starting updateAllCardPhotos, currentPhoto exists:", !!currentPhoto);
    
    if (!currentPhoto) {
        console.log("No current photo to update");
        resetAllCardPhotos();
        return;
    }
    
    // Force show photo sections on all cards
    console.log("Updating all card photos with current photo");
    
    // Update minimalist card photo
    const minimalistPhoto = document.getElementById('card-photo');
    const minimalistContainer = document.getElementById('card-photo-container');
    const minimalistPlaceholder = document.getElementById('photo-placeholder');
    
    if (minimalistPhoto && minimalistContainer) {
        console.log("Updating minimalist card photo");
        minimalistPhoto.src = currentPhoto;
        minimalistPhoto.onload = function() {
            minimalistContainer.style.display = 'block';
            if (minimalistPlaceholder) minimalistPlaceholder.style.display = 'none';
            minimalistPhoto.style.transform = `rotate(${currentRotation}deg)`;
            minimalistPhoto.style.filter = `brightness(${currentBrightness}%)`;
            minimalistPhoto.style.width = '100%';
            minimalistPhoto.style.height = '100%';
            minimalistPhoto.style.objectFit = 'cover';
            console.log("Minimalist card photo updated successfully");
        };
    }
    
    // Update impact card photo
    const impactPhoto = document.getElementById('impact-photo');
    const impactContainer = document.getElementById('impact-photo-container');
    
    if (impactPhoto && impactContainer) {
        console.log("Updating impact card photo");
        impactPhoto.src = currentPhoto;
        impactPhoto.onload = function() {
            impactContainer.style.display = 'block';
            impactPhoto.style.transform = `rotate(${currentRotation}deg)`;
            impactPhoto.style.filter = `brightness(${currentBrightness}%)`;
            impactPhoto.style.width = '100%';
            impactPhoto.style.height = '100%';
            impactPhoto.style.objectFit = 'cover';
            console.log("Impact card photo updated successfully");
        };
    }
    
    // Update context card photo
    const contextPhoto = document.getElementById('context-photo');
    const contextContainer = document.getElementById('context-photo-container');
    const contextPlaceholder = document.getElementById('context-photo-placeholder');
    
    if (contextPhoto && contextContainer) {
        console.log("Updating context card photo");
        contextPhoto.src = currentPhoto;
        contextPhoto.onload = function() {
            contextContainer.style.display = 'block';
            if (contextPlaceholder) contextPlaceholder.style.display = 'none';
            contextPhoto.style.transform = `rotate(${currentRotation}deg)`;
            contextPhoto.style.filter = `brightness(${currentBrightness}%)`;
            contextPhoto.style.width = '100%';
            contextPhoto.style.height = '100%';
            contextPhoto.style.objectFit = 'cover';
            console.log("Context card photo updated successfully");
        };
    }
    
    console.log("Photo update process completed");
}


/**
 * FIXED: Reset photos on all cards
 */
function resetAllCardPhotos() {
    // Reset minimalist card
    const minimalistContainer = document.getElementById('card-photo-container');
    const minimalistPlaceholder = document.getElementById('photo-placeholder');
    if (minimalistContainer) minimalistContainer.style.display = 'none';
    if (minimalistPlaceholder) minimalistPlaceholder.style.display = 'flex';
    
    // Reset impact card (no placeholder to show)
    const impactContainer = document.getElementById('impact-photo-container');
    if (impactContainer) impactContainer.style.display = 'none';
    
    // Reset context card
    const contextContainer = document.getElementById('context-photo-container');
    const contextPlaceholder = document.getElementById('context-photo-placeholder');
    if (contextContainer) contextContainer.style.display = 'none';
    if (contextPlaceholder) contextPlaceholder.style.display = 'block';
}
    
</script>

<!-- ========================================= -->
<!-- END OF DOCUMENT -->
<!-- ========================================= -->

</body>
</html>
